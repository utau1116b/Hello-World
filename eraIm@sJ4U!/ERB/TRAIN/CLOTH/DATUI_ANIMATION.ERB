;-----------------------------------
;関数名:DATUI_ANIME
;;概　要:脱衣アニメーション関数
;引　数:ARG:0…キャラ登録番号(MASTERかTARGET。省略したり妙な数値が入るとTARGET)
;　　　:ARG:1…省略すると脱衣。正にすると着衣。
;備　考:通常関数
;保存しておいた服装と現在の服装の差異を見て、脱いだり着たりした部位をフェード表示する
;-----------------------------------
@DATUI_ANIME(ARG:0 = -1, ARG:1)
#LOCALSIZE 21
#DIM LCOUNT, 2
#DIM PRICOLOR, 1
#DIM RED,2
#DIM GREEN,2
#DIM BLUE,2
VARSET RED
VARSET GREEN
VARSET BLUE
VARSET LOCAL
RESETCOLOR
PRICOLOR = GETCOLOR()

;RGBそれぞれのベース値、減少値を各色:0と1に代入
RED = GETRED()
GREEN = GETGREEN()
BLUE = GETBLUE()
RED:1 = MAX(1, (RED-GETRED(0x0000))/4)
GREEN:1 = MAX(1, (GREEN-GETGREEN(0x0000))/4)
BLUE:1 = MAX(1, (BLUE-GETBLUE(0x0000))/4)

;MASTERでもTARGETでもなければTARGETを指定
SIF ARG != MASTER && ARG != TARGET
	ARG = TARGET
	
;脱いだ・着た位置をLOCALに保存
FOR LCOUNT, 0, 20
	LOCAL:LCOUNT = CLOTHE_SAVE(ARG, LCOUNT)
	;PRINTFORML %CALLNAME:ARG% LOCAL:{LCOUNT} = {LOCAL:LCOUNT}
NEXT
;WAIT
REDRAW 0
;脱衣の場合
IF !ARG:1
	;脱ぐ前の服装を表示し、脱いだ位置はその着衣の文字数をLOCALに入れる
	PRINTFORMD %CALLNAME:ARG%の衣装：	
	;コスプレ服
	IF TEQUIP:ARG:コスプレ服
		PRINTFORMD [%COSPLAY(ARG)%]
	ELSEIF LOCAL:10
		PRINTFORM [%COSPLAY(ARG)%]
		LOCAL:10 = STRLENS(@"[%COSPLAY(ARG)%]")
	ENDIF
	;上下一体服
	IF TEQUIP:ARG:上下一体服
		PRINTFORMD [%DRESS(ARG)%]
	ELSEIF LOCAL:9
		PRINTFORM [%DRESS(ARG)%]
		LOCAL:9 = STRLENS(@"[%DRESS(ARG)%]")
	ENDIF
	;上着
	IF TEQUIP:ARG:アウター
		PRINTFORMD [%OUTER_T(ARG)%]
	ELSEIF LOCAL:8
		PRINTFORM [%OUTER_T(ARG)%]
		LOCAL:8 = STRLENS(@"[%OUTER_T(ARG)%]")
	ENDIF
	;インナー
	IF TEQUIP:ARG:インナー
		PRINTFORMD [%OUTER_T2(ARG)%]
	ELSEIF LOCAL:7
		PRINTFORM [%OUTER_T2(ARG)%]
		LOCAL:7 = STRLENS(@"[%OUTER_T2(ARG)%]")
	ENDIF
	;下着
	IF TEQUIP:ARG:ボトムス
		PRINTFORMD [%OUTER_B(ARG)%]
	ELSEIF LOCAL:6
		PRINTFORM [%OUTER_B(ARG)%]
		LOCAL:6 = STRLENS(@"[%OUTER_B(ARG)%]")
	ENDIF
	;上下一体下着
	IF TEQUIP:ARG:下着（上下一体）
		PRINTFORMD [%INNER_TB(ARG)%]
	ELSEIF LOCAL:2
		PRINTFORM [%INNER_TB(ARG)%]
		LOCAL:2 = STRLENS(@"[%INNER_TB(ARG)%]")
	ENDIF
	;胸下着
	IF TEQUIP:ARG:下着（上）
		PRINTFORMD [%INNER_T(ARG)%]
	ELSEIF LOCAL:4
		PRINTFORM [%INNER_T(ARG)%]
		LOCAL:4 = STRLENS(@"[%INNER_T(ARG)%]")
	ENDIF
	;秘所
	IF TEQUIP:ARG:下着（下）
		PRINTFORMD [%INNER_B(ARG)%]
	ELSEIF LOCAL:3
		PRINTFORM [%INNER_B(ARG)%]
		LOCAL:3 = STRLENS(@"[%INNER_B(ARG)%]")
	ENDIF
	;靴下
	IF TEQUIP:ARG:靴下
		PRINTFORMD [%SOCKS(ARG)%]
	ELSEIF LOCAL:2
		PRINTFORM [%SOCKS(ARG)%]
		LOCAL:2 = STRLENS(@"[%SOCKS(ARG)%]")
	ENDIF
	;手袋
	IF TEQUIP:ARG:手
		PRINTFORMD [%GLOVES(ARG)%]
	ELSEIF LOCAL:1
		PRINTFORM [%GLOVES(ARG)%]
		LOCAL:1 = STRLENS(@"[%GLOVES(ARG)%]")
	ENDIF
	;頭
	IF TEQUIP:ARG:頭
		PRINTFORMD [%HEAD(ARG)%]
	ELSEIF LOCAL:0
		PRINTFORM [%HEAD(ARG)%]
		LOCAL:0 = STRLENS(@"[%HEAD(ARG)%]")
	ENDIF
	;アクセサリー１
	IF TEQUIP:ARG:オプション1
		PRINTFORMD [%ACCESSORY1(ARG)%]
	ELSEIF LOCAL:11
		PRINTFORM [%ACCESSORY1(ARG)%]
		LOCAL:11 = STRLENS(@"[%ACCESSORY1(ARG)%]")
	ENDIF
	;オプション2
	IF TEQUIP:ARG:オプション2
		PRINTFORMD [%ACCESSORY1(ARG, , 2)%]
	ELSEIF LOCAL:12
		PRINTFORM [%ACCESSORY1(ARG, , 2)%]
		LOCAL:12 = STRLENS(@"[%ACCESSORY1(ARG, , 2)%]")
	ENDIF
	;オプション3
	IF TEQUIP:ARG:オプション3
		PRINTFORMD [%ACCESSORY1(ARG, , 3)%]
	ELSEIF LOCAL:13
		PRINTFORM [%ACCESSORY1(ARG, , 3)%]
		LOCAL:13 = STRLENS(@"[%ACCESSORY1(ARG, , 3)%]")
	ENDIF
	;オプション4
	IF TEQUIP:ARG:オプション4
		PRINTFORMD [%ACCESSORY1(ARG, , 4)%]
	ELSEIF LOCAL:14
		PRINTFORM [%ACCESSORY1(ARG, , 4)%]
		LOCAL:14 = STRLENS(@"[%ACCESSORY1(ARG, , 4)%]")
	ENDIF
	;オプション5
	IF TEQUIP:ARG:オプション5
		PRINTFORMD [%ACCESSORY1(ARG, , 5)%]
	ELSEIF LOCAL:15
		PRINTFORM [%ACCESSORY1(ARG, , 5)%]
		LOCAL:15 = STRLENS(@"[%ACCESSORY1(ARG, , 5)%]")
	ENDIF
	PRINTL
	PRINTL
	TWAIT 100, 0
	
	FOR LCOUNT, 0, 4
		RED = MAX(0, RED-RED:1)
		GREEN = MAX(0, GREEN-GREEN:1)
		BLUE = MAX(0, BLUE-BLUE:1)
		SETCOLOR RED, GREEN, BLUE
		CLEARLINE 2
		PRINTFORMD %CALLNAME:ARG%の衣装：
		;コスプレ服
		IF TEQUIP:ARG:コスプレ服
			PRINTFORMD [%COSPLAY(ARG)%]
		ELSEIF LOCAL:10
			PRINTFORM [%COSPLAY(ARG)%]
		ENDIF
		;上下一体服
		IF TEQUIP:ARG:上下一体服
			PRINTFORMD [%DRESS(ARG)%]
		ELSEIF LOCAL:9
			PRINTFORM [%DRESS(ARG)%]
		ENDIF
		;上着
		IF TEQUIP:ARG:アウター
			PRINTFORMD [%OUTER_T(ARG)%]
		ELSEIF LOCAL:8
			PRINTFORM [%OUTER_T(ARG)%]
		ENDIF
		;インナー
		IF TEQUIP:ARG:インナー
			PRINTFORMD [%OUTER_T2(ARG)%]
		ELSEIF LOCAL:7
			PRINTFORM [%OUTER_T2(ARG)%]
		ENDIF
		;下着
		IF TEQUIP:ARG:ボトムス
			PRINTFORMD [%OUTER_B(ARG)%]
		ELSEIF LOCAL:6
			PRINTFORM [%OUTER_B(ARG)%]
		ENDIF
		;上下一体下着
		IF TEQUIP:ARG:下着（上下一体）
			PRINTFORMD [%INNER_TB(ARG)%]
		ELSEIF LOCAL:2
			PRINTFORM [%INNER_TB(ARG)%]
		ENDIF
		;胸下着
		IF TEQUIP:ARG:下着（上）
			PRINTFORMD [%INNER_T(ARG)%]
		ELSEIF LOCAL:4
			PRINTFORM [%INNER_T(ARG)%]
		ENDIF
		;秘所
		IF TEQUIP:ARG:下着（下）
			PRINTFORMD [%INNER_B(ARG)%]
		ELSEIF LOCAL:3
			PRINTFORM [%INNER_B(ARG)%]
		ENDIF
		;靴下
		IF TEQUIP:ARG:靴下
			PRINTFORMD [%SOCKS(ARG)%]
		ELSEIF LOCAL:2
			PRINTFORM [%SOCKS(ARG)%]
		ENDIF
		;手袋
		IF TEQUIP:ARG:手
			PRINTFORMD [%GLOVES(ARG)%]
		ELSEIF LOCAL:1
			PRINTFORM [%GLOVES(ARG)%]
		ENDIF
		;頭
		IF TEQUIP:ARG:頭
			PRINTFORMD [%HEAD(ARG)%]
		ELSEIF LOCAL:0
			PRINTFORM [%HEAD(ARG)%]
		ENDIF
		;アクセサリー１
		IF TEQUIP:ARG:オプション1
			PRINTFORMD [%ACCESSORY1(ARG)%]
		ELSEIF LOCAL:11
			PRINTFORM [%ACCESSORY1(ARG)%]
		ENDIF
		;オプション2
		IF TEQUIP:ARG:オプション2
			PRINTFORMD [%ACCESSORY1(ARG, , 2)%]
		ELSEIF LOCAL:12
			PRINTFORM [%ACCESSORY1(ARG, , 2)%]
		ENDIF
		;オプション3
		IF TEQUIP:ARG:オプション3
			PRINTFORMD [%ACCESSORY1(ARG, , 3)%]
		ELSEIF LOCAL:13
			PRINTFORM [%ACCESSORY1(ARG, , 3)%]
		ENDIF
		;オプション4
		IF TEQUIP:ARG:オプション4
			PRINTFORMD [%ACCESSORY1(ARG, , 4)%]
		ELSEIF LOCAL:14
			PRINTFORM [%ACCESSORY1(ARG, , 4)%]
		ENDIF
		;オプション5
		IF TEQUIP:ARG:オプション5
			PRINTFORMD [%ACCESSORY1(ARG, , 5)%]
		ELSEIF LOCAL:15
			PRINTFORM [%ACCESSORY1(ARG, , 5)%]
		ENDIF
		PRINTL
		PRINTL
		TWAIT 100, 0
	NEXT

	FOR LCOUNT, 0, MAXARRAY(LOCAL)/2
		CLEARLINE 2
		PRINTFORMD %CALLNAME:ARG%の衣装：
		;コスプレ服
		IF TEQUIP:ARG:コスプレ服
			PRINTFORMD [%COSPLAY(ARG)%]
		ELSEIF LOCAL:10
			LOCAL:10 = MAX(0, LOCAL:10-2)
			PRINTFORM %" "*LOCAL:10%
		ENDIF
		;上下一体服
		IF TEQUIP:ARG:上下一体服
			PRINTFORMD [%DRESS(ARG)%]
		ELSEIF LOCAL:9
			LOCAL:9 = MAX(0, LOCAL:9-2)
			PRINTFORM %" "*LOCAL:9%
		ENDIF
		;上着
		IF TEQUIP:ARG:アウター
			PRINTFORMD [%OUTER_T(ARG)%]
		ELSEIF LOCAL:8
			LOCAL:8 = MAX(0, LOCAL:8-2)
			PRINTFORM %" "*LOCAL:8%
		ENDIF
		;インナー
		IF TEQUIP:ARG:インナー
			PRINTFORMD [%OUTER_T2(ARG)%]
		ELSEIF LOCAL:7
			LOCAL:7 = MAX(0, LOCAL:7-2)
			PRINTFORM %" "*LOCAL:7%
		ENDIF
		;下着
		IF TEQUIP:ARG:ボトムス
			PRINTFORMD [%OUTER_B(ARG)%]
		ELSEIF LOCAL:6
			LOCAL:6 = MAX(0, LOCAL:6-2)
			PRINTFORM %" "*LOCAL:6%
		ENDIF
		;上下一体下着
		IF TEQUIP:ARG:下着（上下一体）
			PRINTFORMD [%INNER_TB(ARG)%]
		ELSEIF LOCAL:2
			LOCAL:2 = MAX(0, LOCAL:2-2)
			PRINTFORM %" "*LOCAL:2%
		ENDIF
		;胸下着
		IF TEQUIP:ARG:下着（上）
			PRINTFORMD [%INNER_T(ARG)%]
		ELSEIF LOCAL:4
			LOCAL:4 = MAX(0, LOCAL:4-2)
			PRINTFORM %" "*LOCAL:4%
		ENDIF
		;秘所
		IF TEQUIP:ARG:下着（下）
			PRINTFORMD [%INNER_B(ARG)%]
		ELSEIF LOCAL:3
			LOCAL:3 = MAX(0, LOCAL:3-2)
			PRINTFORM %" "*LOCAL:3%
		ENDIF
		;靴下
		IF TEQUIP:ARG:靴下
			PRINTFORMD [%SOCKS(ARG)%]
		ELSEIF LOCAL:2
			LOCAL:2 = MAX(0, LOCAL:2-2)
			PRINTFORM %" "*LOCAL:2%
		ENDIF
		;手袋
		IF TEQUIP:ARG:手
			PRINTFORMD [%GLOVES(ARG)%]
		ELSEIF LOCAL:1
			LOCAL:1 = MAX(0, LOCAL:1-2)
			PRINTFORM %" "*LOCAL:1%
		ENDIF
		;頭
		IF TEQUIP:ARG:頭
			PRINTFORMD [%HEAD(ARG)%]
		ELSEIF LOCAL:0
			LOCAL:0 = MAX(0, LOCAL:0-2)
			PRINTFORM %" "*LOCAL:0%
		ENDIF
		;アクセサリー１
		IF TEQUIP:ARG:オプション1
			PRINTFORMD [%ACCESSORY1(ARG)%]
		ELSEIF LOCAL:11
			LOCAL:11 = MAX(0, LOCAL:11-2)
			PRINTFORM %" "*LOCAL:11%
		ENDIF
		;オプション2
		IF TEQUIP:ARG:オプション2
			PRINTFORMD [%ACCESSORY1(ARG, , 2)%]
		ELSEIF LOCAL:12
			LOCAL:12 = MAX(0, LOCAL:12-2)
			PRINTFORM %" "*LOCAL:12%
		ENDIF
		;オプション3
		IF TEQUIP:ARG:オプション3
			PRINTFORMD [%ACCESSORY1(ARG, , 3)%]
		ELSEIF LOCAL:13
			LOCAL:13 = MAX(0, LOCAL:13-2)
			PRINTFORM %" "*LOCAL:13%
		ENDIF
		;オプション4
		IF TEQUIP:ARG:オプション4
			PRINTFORMD [%ACCESSORY1(ARG, , 4)%]
		ELSEIF LOCAL:14
			LOCAL:14 = MAX(0, LOCAL:14-2)
			PRINTFORM %" "*LOCAL:14%
		ENDIF
		;オプション5
		IF TEQUIP:ARG:オプション5
			PRINTFORMD [%ACCESSORY1(ARG, , 5)%]
		ELSEIF LOCAL:15
			LOCAL:15 = MAX(0, LOCAL:15-2)
			PRINTFORM %" "*LOCAL:15%
		ENDIF
		PRINTL
		PRINTL
		TWAIT 100, 0
	NEXT

;着衣の場合
ELSE
	;着る前の服装を表示し、脱いだ位置はその着衣の文字数をLOCALに入れる
	PRINTFORMD %CALLNAME:ARG%の衣装：
	;コスプレ服
	IF LOCAL:10
		LOCAL:10 = STRLENS(@"[%COSPLAY(ARG)%]")
	ELSEIF TEQUIP:ARG:コスプレ服
		PRINTFORMD [%COSPLAY(ARG)%]
	ENDIF
	;上下一体服
	IF LOCAL:9
		LOCAL:9 = STRLENS(@"[%DRESS(ARG)%]")
	ELSEIF TEQUIP:ARG:上下一体服 
		PRINTFORMD [%DRESS(ARG)%]
	ENDIF
	;上着
	IF LOCAL:8
		LOCAL:8 = STRLENS(@"[%OUTER_T(ARG)%]")
	ELSEIF TEQUIP:ARG:アウター
		PRINTFORMD [%OUTER_T(ARG)%]
	ENDIF
	;インナー
	IF LOCAL:7
		LOCAL:7 = STRLENS(@"[%OUTER_T2(ARG)%]")
	ELSEIF TEQUIP:ARG:インナー
		PRINTFORMD [%OUTER_T2(ARG)%]
	ENDIF
	;下着
	IF LOCAL:6
		LOCAL:6 = STRLENS(@"[%OUTER_B(ARG)%]")
	ELSEIF TEQUIP:ARG:ボトムス
		PRINTFORMD [%OUTER_B(ARG)%]
	ENDIF
	;上下一体下着
	IF LOCAL:5
		LOCAL:5 = STRLENS(@"[%INNER_TB(ARG)%]")
	ELSEIF TEQUIP:ARG:下着（上下一体）
		PRINTFORMD [%INNER_TB(ARG)%]
	ENDIF
	;胸下着
	IF LOCAL:4
		LOCAL:4 = STRLENS(@"[%INNER_T(ARG)%]")
	ELSEIF TEQUIP:ARG:下着（上）
		PRINTFORMD [%INNER_T(ARG)%]
	ENDIF
	;秘所
	IF LOCAL:3
		LOCAL:3 = STRLENS(@"[%INNER_B(ARG)%]")
	ELSEIF TEQUIP:ARG:下着（下）
		PRINTFORMD [%INNER_B(ARG)%]
	ENDIF
	;靴下
	IF LOCAL:2
		LOCAL:2 = STRLENS(@"[%SOCKS(ARG)%]")
	ELSEIF TEQUIP:ARG:靴下
		PRINTFORMD [%SOCKS(ARG)%]
	ENDIF
	;手袋
	IF LOCAL:1
		LOCAL:1 = STRLENS(@"[%GLOVES(ARG)%]")
	ELSEIF TEQUIP:ARG:手
		PRINTFORMD [%GLOVES(ARG)%]
	ENDIF
	;頭
	IF LOCAL:0
		LOCAL:0 = STRLENS(@"[%HEAD(ARG)%]")
	ELSEIF TEQUIP:ARG:頭
		PRINTFORMD [%HEAD(ARG)%]
	ENDIF
	;アクセサリー１
	IF LOCAL:11
		LOCAL:11 = STRLENS(@"[%ACCESSORY1(ARG)%]")
	ELSEIF TEQUIP:ARG:オプション1
		PRINTFORMD [%ACCESSORY1(ARG)%]
	ENDIF
	;オプション2
	IF LOCAL:12
		LOCAL:12 = STRLENS(@"[%ACCESSORY1(ARG, , 2)%]")
	ELSEIF TEQUIP:ARG:オプション2
		PRINTFORMD [%ACCESSORY1(ARG, , 2)%]
	ENDIF
	;オプション3
	IF LOCAL:13
		LOCAL:13 = STRLENS(@"[%ACCESSORY1(ARG, , 3)%]")
	ELSEIF TEQUIP:ARG:オプション3
		PRINTFORMD [%ACCESSORY1(ARG, , 3)%]
	ENDIF
	;オプション4
	IF LOCAL:14
		LOCAL:14 = STRLENS(@"[%ACCESSORY1(ARG, , 4)%]")
	ELSEIF TEQUIP:ARG:オプション4
		PRINTFORMD [%ACCESSORY1(ARG, , 4)%]
	ENDIF
	;オプション5
	IF LOCAL:15
		LOCAL:15 = STRLENS(@"[%ACCESSORY1(ARG, , 5)%]")
	ELSEIF TEQUIP:ARG:オプション5
		PRINTFORMD [%ACCESSORY1(ARG, , 5)%]
	ENDIF
	PRINTL
	PRINTL
	TWAIT 100, 0

	FOR LCOUNT, 0, MAXARRAY(LOCAL)/2
		CLEARLINE 2
		PRINTFORMD %CALLNAME:ARG%の衣装：
		;コスプレ服
		IF LOCAL:10
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:10)%
		ELSEIF TEQUIP:ARG:コスプレ服
			PRINTFORMD [%COSPLAY(ARG)%]
		ENDIF
		;上下一体服
		IF LOCAL:9
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:9)%
		ELSEIF TEQUIP:ARG:上下一体服 
			PRINTFORMD [%DRESS(ARG)%]
		ENDIF
		;上着
		IF LOCAL:8
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:8)%
		ELSEIF TEQUIP:ARG:アウター
			PRINTFORMD [%OUTER_T(ARG)%]
		ENDIF
		;インナー
		IF LOCAL:7
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:7)%
		ELSEIF TEQUIP:ARG:インナー
			PRINTFORMD [%OUTER_T2(ARG)%]
		ENDIF
		;下着
		IF LOCAL:6
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:6)%
		ELSEIF TEQUIP:ARG:ボトムス
			PRINTFORMD [%OUTER_B(ARG)%]
		ENDIF
		;上下一体下着
		IF LOCAL:5
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:5)%
		ELSEIF TEQUIP:ARG:下着（上下一体）
			PRINTFORMD [%INNER_TB(ARG)%]
		ENDIF
		;胸下着
		IF LOCAL:4
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:4)%
		ELSEIF TEQUIP:ARG:下着（上）
			PRINTFORMD [%INNER_T(ARG)%]
		ENDIF
		;秘所
		IF LOCAL:3
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:3)%
		ELSEIF TEQUIP:ARG:下着（下）
			PRINTFORMD [%INNER_B(ARG)%]
		ENDIF
		;靴下
		IF LOCAL:2
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:2)%
		ELSEIF TEQUIP:ARG:靴下
			PRINTFORMD [%SOCKS(ARG)%]
		ENDIF
		;手袋
		IF LOCAL:1
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:1)%
		ELSEIF TEQUIP:ARG:手
			PRINTFORMD [%GLOVES(ARG)%]
		ENDIF
		;頭
		IF LOCAL:0
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:0)%
		ELSEIF TEQUIP:ARG:頭
			PRINTFORMD [%HEAD(ARG)%]
		ENDIF
		;アクセサリー１
		IF LOCAL:11
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:11)%
		ELSEIF TEQUIP:ARG:オプション1
			PRINTFORMD [%ACCESSORY1(ARG)%]
		ENDIF
		;オプション2
		IF LOCAL:12
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:12)%
		ELSEIF TEQUIP:ARG:オプション2
			PRINTFORMD [%ACCESSORY1(ARG, , 2)%]
		ENDIF
		;オプション3
		IF LOCAL:13
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:13)%
		ELSEIF TEQUIP:ARG:オプション3
			PRINTFORMD [%ACCESSORY1(ARG, , 3)%]
		ENDIF
		;オプション4
		IF LOCAL:14
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:14)%
		ELSEIF TEQUIP:ARG:オプション4
			PRINTFORMD [%ACCESSORY1(ARG, , 4)%]
		ENDIF
		;オプション5
		IF LOCAL:15
			PRINTFORM %" "*MIN(LCOUNT*2, LOCAL:15)%
		ELSEIF TEQUIP:ARG:オプション5
			PRINTFORMD [%ACCESSORY1(ARG, , 5)%]
		ENDIF
		PRINTL
		PRINTL
		TWAIT 100, 0
	NEXT
	SETCOLOR 0x000000
	RED = GETRED()
	GREEN = GETGREEN()
	BLUE = GETBLUE()
	FOR LCOUNT, 0, 4
		RED = MIN(GETRED(PRICOLOR), RED+RED:1)
		GREEN = MIN(GETGREEN(PRICOLOR), GREEN+GREEN:1)
		BLUE = MIN(GETBLUE(PRICOLOR), BLUE+BLUE:1)
		SETCOLOR RED, GREEN, BLUE
		CLEARLINE 2
		PRINTFORMD %CALLNAME:ARG%の衣装：
		;コスプレ服
		IF LOCAL:10
			PRINTFORM [%COSPLAY(ARG)%]
		ELSEIF TEQUIP:ARG:コスプレ服
			PRINTFORMD [%COSPLAY(ARG)%]
		ENDIF
		;上下一体服
		IF LOCAL:9
			PRINTFORM [%DRESS(ARG)%]
		ELSEIF TEQUIP:ARG:上下一体服 
			PRINTFORMD [%DRESS(ARG)%]
		ENDIF
		;上着
		IF LOCAL:8
			PRINTFORM [%OUTER_T(ARG)%]
		ELSEIF TEQUIP:ARG:アウター
			PRINTFORMD [%OUTER_T(ARG)%]
		ENDIF
		;インナー
		IF LOCAL:7
			PRINTFORM [%OUTER_T2(ARG)%]
		ELSEIF TEQUIP:ARG:インナー
			PRINTFORMD [%OUTER_T2(ARG)%]
		ENDIF
		;下着
		IF LOCAL:6
			PRINTFORM [%OUTER_B(ARG)%]
		ELSEIF TEQUIP:ARG:ボトムス
			PRINTFORMD [%OUTER_B(ARG)%]
		ENDIF
		;上下一体下着
		IF LOCAL:5
			PRINTFORM [%INNER_TB(ARG)%]
		ELSEIF TEQUIP:ARG:下着（上下一体）
			PRINTFORMD [%INNER_TB(ARG)%]
		ENDIF
		;胸下着
		IF LOCAL:4
			PRINTFORM [%INNER_T(ARG)%]
		ELSEIF TEQUIP:ARG:下着（上）
			PRINTFORMD [%INNER_T(ARG)%]
		ENDIF
		;秘所
		IF LOCAL:3
			PRINTFORM [%INNER_B(ARG)%]
		ELSEIF TEQUIP:ARG:下着（下）
			PRINTFORMD [%INNER_B(ARG)%]
		ENDIF
		;靴下
		IF LOCAL:2
			PRINTFORM [%SOCKS(ARG)%]
		ELSEIF TEQUIP:ARG:靴下
			PRINTFORMD [%SOCKS(ARG)%]
		ENDIF
		;手袋
		IF LOCAL:1
			PRINTFORM [%GLOVES(ARG)%]
		ELSEIF TEQUIP:ARG:手
			PRINTFORMD [%GLOVES(ARG)%]
		ENDIF
		;頭
		IF LOCAL:0
			PRINTFORM [%HEAD(ARG)%]
		ELSEIF TEQUIP:ARG:頭
			PRINTFORMD [%HEAD(ARG)%]
		ENDIF
		;アクセサリー１
		IF TEQUIP:ARG:オプション1
			PRINTFORMD [%ACCESSORY1(ARG)%]
		ELSEIF LOCAL:11
			PRINTFORM [%ACCESSORY1(ARG)%]
		ENDIF
		;オプション2
		IF TEQUIP:ARG:オプション2
			PRINTFORMD [%ACCESSORY1(ARG, , 2)%]
		ELSEIF LOCAL:12
			PRINTFORM [%ACCESSORY1(ARG, , 2)%]
		ENDIF
		;オプション3
		IF TEQUIP:ARG:オプション3
			PRINTFORMD [%ACCESSORY1(ARG, , 3)%]
		ELSEIF LOCAL:13
			PRINTFORM [%ACCESSORY1(ARG, , 3)%]
		ENDIF
		;オプション4
		IF TEQUIP:ARG:オプション4
			PRINTFORMD [%ACCESSORY1(ARG, , 4)%]
		ELSEIF LOCAL:14
			PRINTFORM [%ACCESSORY1(ARG, , 4)%]
		ENDIF
		;オプション5
		IF TEQUIP:ARG:オプション5
			PRINTFORMD [%ACCESSORY1(ARG, , 5)%]
		ELSEIF LOCAL:15
			PRINTFORM [%ACCESSORY1(ARG, , 5)%]
		ENDIF
		PRINTL
		PRINTL
		TWAIT 100, 0
	NEXT
ENDIF
CLEARLINE 2
;結果、現在の服装
PRINTFORMD %CALLNAME:ARG%の衣装：
;コスプレ服
IF TEQUIP:ARG:コスプレ服
	PRINTFORMD [%COSPLAY(ARG)%]
ENDIF
;上下一体服
IF TEQUIP:ARG:上下一体服 
	PRINTFORMD [%DRESS(ARG)%]
ENDIF
;上着
IF TEQUIP:ARG:アウター
	PRINTFORMD [%OUTER_T(ARG)%]
ENDIF
;インナー
IF TEQUIP:ARG:インナー
	PRINTFORMD [%OUTER_T2(ARG)%]
ENDIF
;下着
IF TEQUIP:ARG:ボトムス
	PRINTFORMD [%OUTER_B(ARG)%]
ENDIF
;上下一体下着
IF TEQUIP:ARG:下着（上下一体）
	PRINTFORMD [%INNER_TB(ARG)%]
ENDIF
;胸下着
IF TEQUIP:ARG:下着（上）
	PRINTFORMD [%INNER_T(ARG)%]
ENDIF
;秘所
IF TEQUIP:ARG:下着（下）
	PRINTFORMD [%INNER_B(ARG)%]
ENDIF
;靴下
IF TEQUIP:ARG:靴下
	PRINTFORMD [%SOCKS(ARG)%]
ENDIF
;手袋
IF TEQUIP:ARG:手
	PRINTFORMD [%GLOVES(ARG)%]
ENDIF
;頭
IF TEQUIP:ARG:頭
	PRINTFORMD [%HEAD(ARG)%]
ENDIF
;アクセサリー１
IF TEQUIP:ARG:オプション1
	PRINTFORMD [%ACCESSORY1(ARG)%]
ENDIF
;オプション2
IF TEQUIP:ARG:オプション2
	PRINTFORMD [%ACCESSORY1(ARG, , 2)%]
ENDIF
;オプション3
IF TEQUIP:ARG:オプション3
	PRINTFORMD [%ACCESSORY1(ARG, , 3)%]
ENDIF
;オプション4
IF TEQUIP:ARG:オプション4
	PRINTFORMD [%ACCESSORY1(ARG, , 4)%]
ENDIF
;オプション5
IF TEQUIP:ARG:オプション5
	PRINTFORMD [%ACCESSORY1(ARG, , 5)%]
ENDIF
REDRAW 1
PRINTL
PRINTL
RESETCOLOR
