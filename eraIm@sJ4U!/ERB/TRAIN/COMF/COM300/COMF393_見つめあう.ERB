@COM393
;߂
;΂Ȃ悗
;ʏ͉ȂƓʁBAΏۂ[q]̂Ƃɂ͕qȕςȂ炢ݷ݂ɂȂႤ̓IȂꁨ֐㑤Ŋ֐Ă񂾎݂̂ɕύX
;-------------------------------------------------
;\[X̌vZ
;-------------------------------------------------
DOWNBASE:0 += 0
DOWNBASE:1 += 30

SOURCE:14 = 50
SOURCE:12 = 30
SOURCE:3 = 20
SOURCE:10 = 20
SOURCE:11 = 30
CALL SOURCE_COM393

RETURN 1

;-------------------------------------------------
;Ώۂ[q]̂Ƃ̓ʏ
;-------------------------------------------------
@SOURCE_COM393
;Ă[q]̐L^
VARSET LOCAL, 0
;102,bq
SIF TALENT:102
	LOCAL:1 += 1
;104,uq
SIF TALENT:104
	LOCAL:1 += 1
;106,`q
SIF TALENT:106
	LOCAL:1 += 1
;108,aq
SIF TALENT:108
	LOCAL:1 += 1
;597,lq
SIF TALENT:597
	LOCAL:1 += 1

FOR LOCAL, 0, 5
	IF LOCAL == 0
		LOCALS = bo
		LOCALS:1 = b
		LOCALS:2 = bq
	ELSEIF LOCAL == 1
		LOCALS = uo
		LOCALS:1 = u
		LOCALS:2 = uq
	ELSEIF LOCAL == 2
		LOCALS = `o
		LOCALS:1 = `
		LOCALS:2 = `q
	ELSEIF LOCAL == 3
		LOCALS = ao
		LOCALS:1 = a
		LOCALS:2 = aq
	ELSEIF LOCAL == 4
		LOCALS = lo
		LOCALS:1 = l
		LOCALS:2 = lq
	ENDIF

	;eqȂeSOURCE擾
	IF TALENT:(LOCALS:2)
		DOWNBASE:1 += 10
		
		;ABL:e݂
		IF ABL:0 == 0
			SOURCE:(LOCALS:1)= 2
		ELSEIF ABL:0 == 1
			SOURCE:(LOCALS:1)= 4
		ELSEIF ABL:0 == 2
			SOURCE:(LOCALS:1)= 6
		ELSEIF ABL:0 == 3
			SOURCE:(LOCALS:1)= 8
		ELSEIF ABL:0 == 4
			SOURCE:(LOCALS:1)= 10
		ELSE
			SOURCE:(LOCALS:1)= ABL:0 * 2
		ENDIF
		
		;TALENT:݂
		SIF TALENT:85
			SOURCE:(LOCALS:1)*= 10
		;TALENT:l݂
		SIF TALENT:153
			TIMES SOURCE:(LOCALS:1), 1.10
		;TALENT:e݂
		SIF TALENT:88
			TIMES SOURCE:(LOCALS:1), 1.20
		
		;ABL:eo݂
		IF ABL:LOCALS == 0
			TIMES SOURCE:(LOCALS:1), 0.10
		ELSEIF ABL:LOCALS == 1
			TIMES SOURCE:(LOCALS:1), 0.20
		ELSEIF ABL:LOCALS == 2
			TIMES SOURCE:(LOCALS:1), 0.40
		ELSEIF ABL:LOCALS == 3
			TIMES SOURCE:(LOCALS:1), 0.60
		ELSEIF ABL:LOCALS == 4
			TIMES SOURCE:(LOCALS:1), 0.80
		ELSE
			SOURCE:(LOCALS:1)= SOURCE:(LOCALS:1)* (ABL:LOCALS * 10 + 50) / 100
		ENDIF
		
		;ABL:~]݂
		IF ABL:1 == 0
			TIMES SOURCE:(LOCALS:1), 0.50
		ELSEIF ABL:1 == 1
			TIMES SOURCE:(LOCALS:1), 0.80
		ELSEIF ABL:1 == 2
			TIMES SOURCE:(LOCALS:1), 1.00
		ELSEIF ABL:1 == 3
			TIMES SOURCE:(LOCALS:1), 1.10
		ELSEIF ABL:1 == 4
			TIMES SOURCE:(LOCALS:1), 1.20
		ELSE
			SOURCE:(LOCALS:1)= SOURCE:(LOCALS:1)* (ABL:1 * 10 + 100) / 100
		ENDIF

		;PALAM:~݂
		IF PALAM:5 < PALAMLV:1
			TIMES SOURCE:(LOCALS:1), 1.00
		ELSEIF PALAM:5 < PALAMLV:2
			TIMES SOURCE:(LOCALS:1), 1.25
		ELSEIF PALAM:5 < PALAMLV:3
			TIMES SOURCE:(LOCALS:1), 1.50
		ELSEIF PALAM:5 < PALAMLV:4
			TIMES SOURCE:(LOCALS:1), 1.75
		ELSEIF PALAM:5 >= PALAMLV:4
			TIMES SOURCE:(LOCALS:1), 2.00
		ENDIF
		
		;[q]̐ɉSOURCE
		SOURCE:(LOCALS:1)/= LOCAL:1
		
		;
		SOURCE:10 += SOURCE:(LOCALS:1)
	ENDIF
NEXT



