;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;デバッグモード用の特殊コマンド
;大きく分けて調教中に使えるものとメインメニュー(SHOP)が開いているときに使用できるものに分かれる
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡

;=============================================================================
;調教中に使用可能なコマンド
;=============================================================================
@DEBUG_MENU_TRAIN
LOCALS:0 = ON
LOCALS:1 = OFF
DRAWLINE
PRINTL 何をしますか？
PRINTL 
PRINTLC [  0] - 体力気力回復
PRINTLC [  1] - 身体洗浄
PRINTLC [  2] - 反発要素削除
PRINTLC [  3] - 好感操作
PRINTLC [  4] - 酒気・ムード操作
PRINTLC [  5] - PALAM/BASE編集
PRINTLC [  6] - キャラ編集
PRINTLC [  7] - 淫乱系素質着脱
PRINTLC [  8] - ITEM操作
PRINTLC [  9] - CFLAG操作
PRINTLC [ 10] - TFLAG操作
PRINTLC [ 11] - FLAG操作
PRINTLC [ 12] - TEQUIP操作
;PRINTLC [ 13] - EQUIP操作
;PRINTFORMLC [ 14] - 自動能力上昇の%LOCALS:(TALENT:998)%
;PRINTLC [ 15] - TSTR操作
PRINTLC [ 20] - キャラクター追加
PRINTLC [ 24] - にんっしんっ
PRINTLC [ 93] - 全フラグ表示
PRINTLC [ 99] - クイックロード
PRINTLC [100] - 戻る
PRINTL 
$INPUT_LOOP
INPUT
IF RESULT == 0
	CALL TRAIN_HEAL
ELSEIF RESULT == 1
	CALL TRAIN_WASHING
ELSEIF RESULT == 2
	CALL REPULSION_DEL
ELSEIF RESULT == 3
	CALL EDIT_FAVORABILITY
ELSEIF RESULT == 4
	CALL EDIT_MODE
ELSEIF RESULT == 5
	CALL EDIT_PALAM
ELSEIF RESULT == 6
	LOCAL = MASTER
	LOCAL:1 = TARGET
	LOCAL:2 = ASSI
	CALL EDIT_CHARA
	MASTER = LOCAL
	TARGET = LOCAL:1
	ASSI = LOCAL:2
ELSEIF RESULT == 7
	CALL TRAIN_TALENT_LEWD
ELSEIF RESULT == 8
	CALL EDIT_ITEM
ELSEIF RESULT == 9
	CALL EDIT_CFLAG
ELSEIF RESULT == 10
	CALL EDIT_TFLAG
ELSEIF RESULT == 11
	CALL EDIT_FLAG
ELSEIF RESULT == 12
	CALL EDIT_TEQUIP
;ELSEIF RESULT == 13
;	CALL EDIT_EQUIP
;ELSEIF RESULT == 14
;	CALL TRAIN_DEBUG
;ELSEIF RESULT == 15
;	CALL EDIT_TSTR
ELSEIF RESULT == 20
	CALL DEBUG_CHARA_INT
ELSEIF RESULT == 24
	CALL EDIT_GET_CHILD
ELSEIF RESULT == 93
	;デバッグ用フラグ全表示へ
	CALL PRINT_ALL_FLAG, 1
ELSEIF RESULT == 99
	CALL QUICKLOAD
ELSEIF RESULT == 100
	RETURN 0
ELSE
	GOTO INPUT_LOOP
ENDIF
RESTART

@DEBUG_CHARA_INT
VARSET LOCAL
PRINTFORML どのキャラクターを追加しますか？
FOR LOCAL,  11, (11 + FLAG:キャラ数)
	IF CFLAG:LOCAL:勧誘状況 == 0
		PRINTFORMLC [{LOCAL, 3}] %CALLNAME:LOCAL%
		LOCAL:LOCAL = 1
	ENDIF
NEXT
PRINTL 
PRINTFORML [  0]戻る
$INPUT_LOOP
INPUT
SIF RESULT == 0
	RETURN
IF RESULT && LOCAL:RESULT
	CALL NEWCHARA_INIT(RESULT)
ELSE
	REUSELASTLINE 入力値が不正です。正しい値を入力して下さい
ENDIF
RESTART
;--------------------------------------------------
;体力気力回復処理
;--------------------------------------------------
;主人、調教対象(いるなら助手も)の体力と気力を全快する
;ただし全快したからと言って一発で体力がマイナスになるようなコマンドを使うと
;普通にゲームオーバーになるので注意(例外あり)
@TRAIN_HEAL
DRAWLINE
PRINTL 「ハ・ン・ド・パ・ワ・−！！」
BASE:0 = MAXBASE:0
BASE:1 = MAXBASE:1
BASE:HP = MAXBASE:HP
BASE:MP = MAXBASE:MP
BASE:MASTER:0 = MAXBASE:MASTER:0
BASE:MASTER:1 = MAXBASE:MASTER:1
BASE:MASTER:HP = MAXBASE:MASTER:HP
BASE:MASTER:MP = MAXBASE:MASTER:MP
IF ASSI > 0
	BASE:ASSI:0 = MAXBASE:ASSI:0
	BASE:ASSI:1 = MAXBASE:ASSI:1
ENDIF

;--------------------------------------------------
;清潔一番
;--------------------------------------------------
;プレイヤー、パートナーの全身のヨゴレを洗浄する
@TRAIN_WASHING
DRAWLINE
PRINTFORML %CALLNAME:TARGET%と%CALLNAME:PLAYER%の汚れを洗浄します
;パートナーの汚れを落とす
RESET_STAIN TARGET
;プレイヤーの汚れを落とす
RESET_STAIN PLAYER

;--------------------------------------------------
;反発要素(反感・不快・抑鬱のPALAM)をワンタッチで削除
;--------------------------------------------------
@REPULSION_DEL
DRAWLINE
PRINTFORML 反発要素(反感・不快・抑鬱のPALAM)を削除しました
PALAM:反感 = 0
PALAM:不快 = 0
PALAM:抑鬱 = 0

;--------------------------------------------------
;好感度変化処理
;--------------------------------------------------
;現在調教中のキャラの好感度を好きな値に変化させます
;恋慕などのイベントは調教終了時に発生するので即効果が発揮するわけではない
;あまりにも大きすぎる値にするとバグることがあります
;(一応オーバーフロー対策にそれぞれ999999(100万)超えたら999999に戻す)
@EDIT_FAVORABILITY
DRAWLINE
PRINTFORML %NAME:TARGET%の好感度：{CFLAG:2}
PRINTL どの値にするか入力してください(-999999 - 999999/0で戻る)
PRINTC [1000]助手等の条件
PRINTC [3000]恋慕の条件
PRINTC [10000]親愛の条件
PRINTC [999999]MAX
PRINTC [0]戻る
PRINTL 

INPUT
SIF RESULT == 0
	RETURN 0
CFLAG:2 = RESULT
SIF CFLAG:2 < -999999
	CFLAG:2 = -999999
SIF CFLAG:2 > 999999
	CFLAG:2 = 999999
PRINTFORML %NAME:TARGET%の好感度を{CFLAG:2}に変更しました

;--------------------------------------------------
;酒気・ムード変化処理
;--------------------------------------------------
;酒気・ムードを好きな値に変化させます
;あまりにも大きすぎる値にするとバグることがあります
@EDIT_MODE
DRAWLINE
PRINTL どちらを変更しますか？
PRINTFORML [0] %CALLNAME:TARGET%の酔ってる度合い:{TFLAG:47}
PRINTFORML [1] 現在のムード:{TFLAG:37}
PRINTFORML [2] 変更しない

$INPUT_LOOP
INPUT
IF RESULT == 0
	LOCAL = 47
ELSEIF RESULT == 1
	LOCAL = 37
ELSEIF RESULT == 2
	RETURN 0
ELSE
	GOTO INPUT_LOOP
ENDIF
PRINTL どの値にするか入力してください(0-999999/無効な値でキャンセル)
PRINTFORML [0][1][9][99][999][9999][99999][999999]

INPUT
SIF RESULT < 0 || RESULT > 999999
	RETURN 0
TFLAG:LOCAL = RESULT
IF LOCAL == 47
	PRINTFORM %CALLNAME:TARGET%の酔ってる度合いを
ELSEIF LOCAL == 37
	PRINTFORM 現在のムードを
ENDIF
PRINTFORML {TFLAG:LOCAL}に変更しました

;--------------------------------------------------
;淫乱系素質着脱処理
;--------------------------------------------------
;現在調教中のキャラの淫乱系素質を付加/削除させます
@TRAIN_TALENT_LEWD
LOCALS:0 = 追加
LOCALS:1 = 削除
DRAWLINE
PRINTFORML %CALLNAME:TARGET%に付加/削除する素質を選んでください
PRINTFORML [0] 素質[淫乱]を%LOCALS:(TALENT:淫乱)%する
PRINTFORML [1] 素質[淫核]を%LOCALS:(TALENT:淫核)%する
SIF TALENT:122 == 0
	PRINTFORML [2] 素質[淫壷]を%LOCALS:(TALENT:淫壷)%する
PRINTFORML [3] 素質[尻穴狂い]を%LOCALS:(TALENT:尻穴狂い)%する
PRINTFORML [4] 素質[淫乳]を%LOCALS:(TALENT:淫乳)%する
PRINTFORML [5] 素質[蕩唇]を%LOCALS:(TALENT:蕩唇)%する
PRINTFORML [6] 素質[キス魔]を%LOCALS:(TALENT:キス魔)%する
PRINTL [100] 戻る

$INPUT_LOOP
INPUT
IF RESULT == 0
	PRINTFORMW 素質[淫乱]を%LOCALS:(TALENT:淫乱)%しました
	TALENT:76 = (TALENT:76) ? 0 # 1
ELSEIF RESULT == 1
	PRINTFORMW 素質[淫核]を%LOCALS:(TALENT:淫核)%しました
	TALENT:75 = (TALENT:75) ? 0 # 1
ELSEIF RESULT == 2 && TALENT:120 == 0
	PRINTFORMW 素質[淫壷]を%LOCALS:(TALENT:淫壷)%しました
	TALENT:74 = (TALENT:74) ? 0 # 1
ELSEIF RESULT == 3
	PRINTFORMW 素質[尻穴狂い]を%LOCALS:(TALENT:尻穴狂い)%しました
	TALENT:77 = (TALENT:77) ? 0 # 1
ELSEIF RESULT == 4
	PRINTFORMW 素質[淫乳]を%LOCALS:(TALENT:淫乳)%しました
	TALENT:78 = (TALENT:78) ? 0 # 1
ELSEIF RESULT == 5
	PRINTFORMW 素質[蕩唇]を%LOCALS:(TALENT:蕩唇)%しました
	TALENT:589 = (TALENT:589) ? 0 # 1
ELSEIF RESULT == 6
	PRINTFORMW 素質[キス魔]を%LOCALS:(TALENT:キス魔)%しました
	TALENT:155 = (TALENT:155) ? 0 # 1
ELSEIF RESULT == 100
	RETURN 0
ELSE
	GOTO INPUT_LOOP
ENDIF
RESTART

;--------------------------------------------------
;助手フラグ変更処理
;--------------------------------------------------
;現在調教中のキャラを売却可能か否か、助手可能か否かの設定を変更できる
@TRAIN_ASSIST_FLAG
DRAWLINE
PRINTFORM 現在%NAME:TARGET%は
IF !CFLAG:1
	PRINT 助手にできない
ELSE
	PRINT 助手可能な
ENDIF
PRINTL 状態です
PRINTL どうしますか？
IF CFLAG:1
	PRINTL [0] 助手不可能にする
ELSE
	PRINTL [1] 助手可能にする
ENDIF
PRINTL [100] 戻る

$INPUT_LOOP
INPUT
IF RESULT == 0 && CFLAG:1
	PRINTFORMW %NAME:TARGET%を助手不可能な状態にしました
	CFLAG:1 = 0
ELSEIF RESULT == 1 && !CFLAG:1
	PRINTFORMW %NAME:TARGET%を助手可能な状態にしました
	CFLAG:1 = 1
ELSEIF RESULT == 100
	RETURN 0
ELSE
	GOTO INPUT_LOOP
ENDIF
RESTART

;=============================================================================
;メインメニューで使用可能なコマンド
;=============================================================================
@DEBUG_MENU_SHOP
DRAWLINE
;残り日数取得
CALL SYSTEM_GET_LIMITDAY
;年月日、曜日、天気等取得
CALL YOUBI
PRINTFORML {DAY:3}年 %STR:2%月 {DAY:1}日 (%STR:1%) 天気:%STR:3% {DAY+1}日目(%STR:4%)  Stage{FLAG:24}攻略中  %STR:5%
IF TARGET >= 0
	PRINTFORM %NAME:TARGET%と一緒です
ELSE
	PRINTFORM パートナーなし
ENDIF
SIF ASSI >= 0
	PRINTFORM （助手：%NAME:ASSI%）

PRINTFORM (残り{MONEY}Ｇ) 
PRINTL 
DRAWLINE
PRINTL 何をしますか？
PRINTL 

PRINTLC [ 0] - キャラ編集
PRINTLC [ 1] - 日付変更
PRINTLC [ 2] - 昼夜逆転
PRINTLC [ 3] - 所持金変更
PRINTLC [ 4] - FLAG操作
PRINTLC [ 5] - ITEM操作
;PRINTLC [ 6] - 経験値操作
;PRINTLC [ 7] - 
PRINTLC [ 8] - 難易度変更
;PRINTFORMLC [ 9] - 期限を\@(FLAG:5 & 1) ? あり # なし\@にする
;SIF MONEY:998
;	PRINTLC [10] - 収入RANKリセット
;SIF FLAG:14 & 4
;	PRINTLC [11] - ヤンデレリセット
;SIF TARGET >= 0
;	PRINTLC [12] - 弁当テスト
;SIF FLAG:15 & 4096
;	PRINTLC [13] - 触手関連の数値変更
;SIF FLAG:12 & 8
;	PRINTLC [14] - 蒐集品の編集
PRINTLC [15] - SAVESTR操作
;SIF FLAG:5 == 0 && (FLAG:4 == 0 || FLAG:4 == 1)
;	PRINTLC [16] - 目標金額変更
PRINTLC [20] - キャラクター追加
PRINTLC [93] - 全フラグ表示
PRINTLC [94] - 攻略ルート変更
PRINTLC [95] - ボス選択
PRINTLC [96] - キャラ全回復
;PRINTLC [97] - エンディングテスト
PRINTLC [98] - 強くてニューゲーム
PRINTLC [99] - クイックロード
PRINTLC [100] - 戻る

$INPUT_LOOP
INPUT
IF RESULT == 0
	LOCAL = MASTER
	LOCAL:1 = TARGET
	LOCAL:2 = ASSI
	CALL EDIT_CHARA
	MASTER = LOCAL
	TARGET = LOCAL:1
	ASSI = LOCAL:2
ELSEIF RESULT == 1
	JUMP EDIT_DATE
ELSEIF RESULT == 2
	JUMP EDIT_TIME
ELSEIF RESULT == 3
	CALL EDIT_MONEY
ELSEIF RESULT == 4
	CALL EDIT_FLAG
ELSEIF RESULT == 5
	CALL EDIT_ITEM
;ELSEIF RESULT == 6
;	CALL EDIT_CHARACARD
;ELSEIF RESULT == 7
;	CALL EDIT_DITEMTYPE
ELSEIF RESULT == 8
	CALL EDIT_GAME_MODE
;ELSEIF RESULT == 9
;	CALL EDIT_ENDLESS_MODE
;ELSEIF RESULT == 10 && MONEY:998
;	CALL EDIT_INCOME_RANKING
;ELSEIF RESULT == 11 && FLAG:14 & 4
;	CALL EDIT_SANITY
;ELSEIF RESULT == 12 && TARGET >= 0
;	CALL EDIT_LUNCH
;ELSEIF RESULT == 13 && FLAG:15 & 4096
;	CALL EDIT_TENTACLE
;ELSEIF RESULT == 14 && FLAG:12 & 8
;	CALL EDIT_COLLECTION_MENU
ELSEIF RESULT == 15
	CALL EDIT_SAVESTR
;ELSEIF RESULT == 16 && FLAG:5 == 0 && (FLAG:4 == 0 || FLAG:4 == 1)
;	CALL EDIT_MONEYLIMIT
ELSEIF RESULT == 20
	CALL DEBUG_CHARA_INT
ELSEIF RESULT == 93
	CALL PRINT_ALL_FLAG, 0
ELSEIF RESULT == 94
	CALL EDIT_GAME_ROOT
ELSEIF RESULT == 95
	CALL BOSS_CHOICE
ELSEIF RESULT == 96
	CALL EDIT_HEAL_ALL
;ELSEIF RESULT == 97
;	CALL EDIT_ENDING_TEST
;	RETURN 1
ELSEIF RESULT == 98 && FLAG:28 == 0
	FLAG:28 = 1
	PRINTL 強くてニューゲームフラグをONにしました
	PRINTW SHOPから強くてニューゲームを選んでください
	RETURN 1
ELSEIF RESULT == 98 && FLAG:28 == 1
	FLAG:28 = 0
	PRINTW 強くてニューゲームフラグをOFFにしました
	RESTART
ELSEIF RESULT == 99
	CALL QUICKLOAD
ELSEIF RESULT == 100
	RETURN 0
ELSE
	GOTO INPUT_LOOP
ENDIF
RESTART

;--------------------------------------------------
;日付変更処理
;--------------------------------------------------
@EDIT_DATE
DRAWLINE
PRINTFORM 現在：{DAY+1}日目
IF TIME == 0
	PRINTL (昼)
ELSE
	PRINTL (夜)
ENDIF
PRINTL 現在何日目かを入力してください(0以下なら変更しない)
PRINTFORML [0][1][9][99][999][9999][99999][999999]

INPUT
SIF RESULT < 1
	RETURN 0
DAY = RESULT - 1
PRINTFORMW 現在の日付を{DAY+1}日目に変更しました

;--------------------------------------------------
;昼夜逆転処理
;--------------------------------------------------
@EDIT_TIME
DRAWLINE
IF TIME == 0
	PRINTFORMW 時間帯を{DAY+1}日目の夜に変更しました
	TIME = 1
ELSEIF TIME == 1
	PRINTFORMW 時間帯を{DAY+1}日目の昼に変更しました
	TIME = 0
ENDIF

;--------------------------------------------------
;所持金変更処理
;--------------------------------------------------
@EDIT_MONEY
DRAWLINE
PRINTFORM 現在所持金：{MONEY}
PRINTL 望む金額を入力してください(負の値なら変更しない)
PRINTLC [0] 無一文
PRINTLC [10000] 1万
PRINTLC [100000000] 1億
PRINTLC [1000000000000] 1兆
PRINTLC [999999999999999999] 限界
PRINTLC [-1] 変更しない

INPUT
SIF RESULT < 0
	RETURN 0
MONEY = RESULT
PRINTFORMW 現在の所持金を{MONEY}Ｇに変更しました

;--------------------------------------------------
;難易度の変更処理
;--------------------------------------------------
@EDIT_GAME_MODE
DRAWLINE
PRINT 現在、難易度は
SIF FLAG:5 == 0
	PRINT EASY
SIF FLAG:5 == 1
	PRINT NORMAL
SIF FLAG:5 == 2
	PRINT HARD
SIF FLAG:5 == 3
	PRINT LUNATIC
SIF FLAG:5 == 4
	PRINT S-LUNATIC
SIF FLAG:5 == 9
	PRINT EXTRA
SIF FLAG:5 == 10
	PRINT PHANTASM
PRINTL です
PRINTL 変更したい難易度を選択してください
PRINTW 確認用であり、変更するとラスボスに不具合が出る可能性があります

PRINTL ★★モードを選択してください★★
PRINTL [ 0]EASY      （Stage数*15日期限、所持金$50000）
PRINTL [ 1]NORMAL    （Stage数*10日期限、所持金$20000）
PRINTL [ 2]HARD      （Stage数* 8日期限、所持金$10000）
PRINTL [ 3]LUNATIC   （Stage数* 5日期限、所持金$ 5000）
PRINTL 
PRINTL [ 9]EXTRA     （期限なし          所持金$100000）
PRINTL [10]PHANTASM  （期限なし          所持金$ 10000）※誰にもオススメできない難易度
PRINTL [100]戻る

$INPUT_LOOP
INPUT

IF RESULT == 100
	RETURN 0
ELSEIF (RESULT < 0 || RESULT > 4) && RESULT != 9 && RESULT != 10
	PRINTFORML 正しい値を入力してください
	GOTO INPUT_LOOP
ENDIF
FLAG:5 = RESULT
PRINT 難易度を
SIF FLAG:5 == 0
	PRINT EASY
SIF FLAG:5 == 1
	PRINT NORMAL
SIF FLAG:5 == 2
	PRINT HARD
SIF FLAG:5 == 3
	PRINT LUNATIC
SIF FLAG:5 == 4
	PRINT S-LUNATIC
SIF FLAG:5 == 9
	PRINT EXTRA
SIF FLAG:5 == 10
	PRINT PHANTASM
PRINTW に変更しました

;--------------------------------------------------
;キャラ全快
;--------------------------------------------------
@EDIT_HEAL_ALL
REPEAT CHARANUM
	BASE:COUNT:0 = MAXBASE:COUNT:0
	BASE:COUNT:1 = MAXBASE:COUNT:1
	BASE:COUNT:HP = MAXBASE:COUNT:HP
	BASE:COUNT:MP = MAXBASE:COUNT:MP
REND
PRINTW 全員の体力・★・ＭＰが回復しました

;--------------------------------------------------
;キャラ書き換え
;--------------------------------------------------
@EDIT_CHARA
DRAWLINE
SIF TARGET >= 0
	PRINTFORML 現在 %CALLNAME:TARGET%を選択中
SIF ASSI >= 0
	PRINTFORM （助手:%CALLNAME:ASSI%）
PRINTL 
PRINTLC [  0] - 対象選択        
IF TARGET >= 0
	PRINTLC [  1] - 対象情報
	PRINTLC [  2] - ABL/MAXBASE編集
	PRINTLC [  3] - EXP編集
	PRINTLC [  4] - MARK編集
	PRINTLC [  5] - TALENT編集
	PRINTLC [  6] - JUEL編集
	PRINTLC [  7] - RELATION編集
	PRINTLC [  8] - CFLAG操作
	PRINTLC [  9] - PALAM/BASE編集
;	PRINTLC [ 10] - EQUIP操作
;	PRINTLC [ 11] - 売却調査用
;	PRINTLC [ 12] - 称号編集
;	PRINTLC [ 13] - CSTR編集
	PRINTLC [ 20] - 好感操作
	PRINTLC [ 21] - 戦闘力操作
ELSE
	PRINTL 
ENDIF
PRINTLC [100] - 戻る

$INPUT_LOOP
INPUT
SIF RESULT == 0
	CALL SELECT_TARGET
IF RESULT == 100
	RETURN 0
ELSEIF TARGET < 0
	PRINTW 対象を選択してください。
	RESTART
ELSEIF RESULT == 1
	CALL SHOW_INFO(TARGET)
ELSEIF RESULT == 2
	CALL EDIT_ABL
ELSEIF RESULT == 3
	CALL EDIT_EXP
ELSEIF RESULT == 4
	CALL EDIT_MARK
ELSEIF RESULT == 5
	CALL EDIT_TALENT
ELSEIF RESULT == 6
	CALL EDIT_JUEL
ELSEIF RESULT == 7
	CALL EDIT_RELATION
ELSEIF RESULT == 8
	CALL EDIT_CFLAG
ELSEIF RESULT == 9
	CALL EDIT_PALAM
;ELSEIF RESULT == 10
;	CALL EDIT_EQUIP
;ELSEIF RESULT == 11
;	CALL EDIT_RESEARCH_CHARA
;ELSEIF RESULT == 12
;	CALL EDIT_NICKNAME
;ELSEIF RESULT == 13
;	CALL EDIT_CSTR
ELSEIF RESULT == 20
	CALL EDIT_FAVORABILITY
ELSEIF RESULT == 21
	CALL EDIT_BATTLE_POWER
ENDIF
RESTART

;---------------------------------------------------------------------
; 対象選択
;---------------------------------------------------------------------
@SELECT_TARGET
DRAWLINE
SIF TARGET >= 0
	PRINTFORML 現在の選択キャラ:%NAME:TARGET%
REPEAT CHARANUM
	PRINTFORMLC [{COUNT,3}]%NAME:COUNT%
REND
PRINTL 
DRAWLINE
IF CHARANUM <= 100
	PRINTL [100] 戻る
ELSE
	PRINTL [1000][-1] 戻る
ENDIF

$INPUT_LOOP
INPUT
IF RESULT == -1 || (CHARANUM <= 100 && RESULT == 100) || RESULT == 1000
	RETURN 0
ELSEIF RESULT < 0 || RESULT >= CHARANUM
	GOTO INPUT_LOOP
ENDIF

TARGET = RESULT
PRINTFORML %CALLNAME:TARGET%を対象に選択しました
RETURN 0

;--------------------------------------------------
; PALAM操作
;--------------------------------------------------
@EDIT_PALAM
DRAWLINE
FOR LOCAL, 0, 100
	SIF STRLENS(PALAMNAME:LOCAL) == 0
		CONTINUE
	PRINTFORMLC [{LOCAL, 3}]%PALAMNAME:LOCAL% ({PALAM:LOCAL}) 
NEXT
PRINTFORMLC [100]現在体力 ({BASE:0}) 
PRINTFORMLC [101]現在気力 ({BASE:1}) 
SIF ( TALENT:121 || TALENT:122 )
	PRINTFORMLC [102]射精ゲージ ({BASE:2}) 
SIF TALENT:130
	PRINTFORMLC [103]噴乳ゲージ ({BASE:3}) 
PRINTFORMLC [108]酔ってる度合い ({TFLAG:47}) 
PRINTFORMLC [109]現在のムード ({TFLAG:37}) 
PRINTLC [199]パラメータリセット
PRINTLC [200]戻る
PRINTL 
$INPUT_LOOP
INPUT
IF RESULT == 200
	RETURN 0
ELSEIF RESULT == 199
	VARSET PALAM, 0
	PRINTW パラメータを全てリセットしました
	RESTART
ELSEIF RESULT == 100
	DRAWLINE
	PRINTFORML 体力の変更(現在{BASE:0})
	PRINTFORML 数値を入力[0-{MAXBASE:0}]（無効な数値でキャンセル）
	INPUT
	SIF RESULT >= 0 && RESULT <= MAXBASE:0
		BASE:0 = RESULT
ELSEIF RESULT == 101
	DRAWLINE
	PRINTFORML 気力の変更(現在{BASE:1})
	PRINTFORML 数値を入力[0-{MAXBASE:1}]（無効な数値でキャンセル）
	INPUT
	SIF RESULT >= 0 && RESULT <= MAXBASE:1
		BASE:1 = RESULT
ELSEIF RESULT == 102 && ( TALENT:121 || TALENT:122 )
	DRAWLINE
	PRINTFORML 射精ゲージの変更(現在{BASE:2})
	PRINTFORML 数値を入力[0-{MAXBASE:2 - 1}]（無効な数値でキャンセル）
	INPUT
	SIF RESULT >= 0 && RESULT <= MAXBASE:2 - 1
		BASE:2 = RESULT
ELSEIF RESULT == 103 && TALENT:130
	DRAWLINE
	PRINTFORML 噴乳ゲージの変更(現在{BASE:3})
	PRINTFORML 数値を入力[0-{MAXBASE:3 - 1}]（無効な数値でキャンセル）
	INPUT
	SIF RESULT >= 0 && RESULT <= MAXBASE:3 - 1
		BASE:3 = RESULT
ELSEIF RESULT == 108
	DRAWLINE
	PRINTFORML 酔ってる度合いの変更(現在{TFLAG:47})
	PRINTFORML 数値を入力[0-9999]（無効な数値でキャンセル）
	INPUT
	SIF RESULT >= 0 && RESULT <= 9999
		TFLAG:47 = RESULT
ELSEIF RESULT == 109
	DRAWLINE
	PRINTFORML 現在のムードの変更(現在{TFLAG:37})
	PRINTFORML 数値を入力[0-9999]（無効な数値でキャンセル）
	INPUT
	SIF RESULT >= 0 && RESULT <= 9999
		TFLAG:37 = RESULT
ELSEIF RESULT < 0 || RESULT > 99
	GOTO INPUT_LOOP
ELSE
	LOCAL = RESULT
	SIF STRLENS(PALAMNAME:LOCAL) == 0
		GOTO INPUT_LOOP
	DRAWLINE
	PRINTFORML %PALAMNAME:LOCAL%の変更(現在{PALAM:LOCAL})
	PRINTFORML 数値を入力[0-9999999]（無効な数値でキャンセル）
	INPUT
	SIF RESULT < 0 || RESULT > 9999999
		RESTART
	PALAM:LOCAL = RESULT
ENDIF
RESTART

;--------------------------------------------------
; ABL操作
;--------------------------------------------------
@EDIT_ABL
DRAWLINE
FOR LOCAL, 0, 700
	SIF STRLENS(ABLNAME:LOCAL) == 0
		CONTINUE
	PRINTFORMLC [{LOCAL, 3}]%ABLNAME:LOCAL%LV ({ABL:LOCAL})  
NEXT
PRINTL 
PRINTFORMLC [100]最大体力 ({MAXBASE:0}) 
PRINTFORMLC [101]最大気力 ({MAXBASE:1}) 
SIF ( TALENT:121 || TALENT:122 )
	PRINTFORMLC [102]最大射精ゲージ ({MAXBASE:2}) 
SIF TALENT:130
	PRINTFORMLC [103]最大噴乳ゲージ ({MAXBASE:3}) 
PRINTLC [200]戻る
PRINTL 
$INPUT_LOOP
INPUT
SIF RESULT == 200
	RETURN 0
SIF RESULT < 0 || RESULT > 107
	GOTO INPUT_LOOP
IF RESULT == 100
	DRAWLINE
	PRINTFORML 最大体力の変更(現在{MAXBASE:0})
	PRINTFORML 数値を入力（負の数値でキャンセル）
	PRINTFORML [500][1000][2000][5000][9999]
	PRINTFORML [-1]
	INPUT
	SIF RESULT < 0
		RESTART
	SIF RESULT < BASE:0
		BASE:0 = RESULT
	MAXBASE:0 = RESULT
ELSEIF RESULT == 101
	DRAWLINE
	PRINTFORML 最大気力の変更(現在{MAXBASE:1})
	PRINTFORML 数値を入力（負の数値でキャンセル）
	PRINTFORML [500][1000][2000][5000][9999]
	PRINTFORML [-1]
	INPUT
	SIF RESULT < 0
		RESTART
	SIF RESULT < BASE:1
		BASE:1 = RESULT
	MAXBASE:1 = RESULT
ELSEIF RESULT == 102
	DRAWLINE
	PRINTFORML 最大射精ゲージの変更(現在{MAXBASE:2})
	PRINTFORML 数値を入力（負の数値でキャンセル）
	PRINTFORML [5000][10000]
	PRINTFORML [-1]
	INPUT
	SIF RESULT < 0
		RESTART
	SIF RESULT < BASE:2
		BASE:2 = RESULT - 1
	MAXBASE:2 = RESULT
ELSEIF RESULT == 103
	DRAWLINE
	PRINTFORML 最大噴乳ゲージの変更(現在{MAXBASE:3})
	PRINTFORML 数値を入力（負の数値でキャンセル）
	PRINTFORML [5000][10000]
	PRINTFORML [-1]
	INPUT
	SIF RESULT < 0
		RESTART
	SIF RESULT < BASE:3
		BASE:3 = RESULT - 1
	MAXBASE:3 = RESULT
ELSE
	LOCAL = RESULT
	DRAWLINE
	PRINTFORML %ABLNAME:LOCAL%LVの変更(現在{ABL:LOCAL})
	PRINTFORML 数値を入力[0-9999]（無効な数値でキャンセル）
	PRINTFORML [0][1][3][4][5][6][7][8][9][10]
	PRINTFORML [15][50][99][999][9999]
	PRINTFORML [-1]
	
	INPUT
	SIF RESULT < 0 || RESULT > 10000
		RESTART
	ABL:LOCAL = RESULT
ENDIF

RESTART

;--------------------------------------------------
;素質編集
;--------------------------------------------------
@EDIT_TALENT
DRAWLINE
VARSIZE TALENT
LOCAL = RESULT
FOR LOCAL, 0, 1000
	;存在しない素質は排除
	SIF STRLENS(TALENTNAME:LOCAL) == 0
		CONTINUE
	;主人の[Debug]は外せない
	SIF LOCAL == 998 && TARGET == MASTER
		CONTINUE
	IF TALENT:LOCAL == 0
		PRINTFORMLC [{LOCAL, 3}]×【%TALENTNAME:LOCAL%】
	ELSEIF TALENT:LOCAL == 1
		PRINTFORMLC [{LOCAL, 3}]◎【%TALENTNAME:LOCAL%】
	ELSEIF TALENT:LOCAL > 1
		PRINTFORMLC [{LOCAL, 3}]○【%TALENTNAME:LOCAL%】
	ENDIF
NEXT
PRINTL [1000]戻る
$INPUT_LOOP
INPUT
IF RESULT == 1000
	RETURN 0
ELSEIF RESULT == 998 && TARGET == MASTER
	GOTO INPUT_LOOP
ELSEIF RESULT < 0 || RESULT > 1000
	GOTO INPUT_LOOP
ENDIF
SIF STRLENS(TALENTNAME:RESULT) == 0
	GOTO INPUT_LOOP
DRAWLINE
PRINTFORMW [%TALENTNAME:RESULT%]を\@(TALENT:RESULT) ? 削除 # 付加\@しました
TALENT:RESULT = (TALENT:RESULT) ? 0 # 1

RESTART
;--------------------------------------------------
; MARK操作
;--------------------------------------------------
@EDIT_MARK
DRAWLINE
FOR LOCAL, 0, 100
	SIF STRLENS(MARKNAME:LOCAL) == 0
		CONTINUE
	PRINTFORML [{LOCAL, 3}]%MARKNAME:LOCAL% ({MARK:LOCAL})
NEXT
PRINTL [100]戻る
$INPUT_LOOP
INPUT
SIF RESULT == 100
	RETURN 0
SIF RESULT < 0 || RESULT > 100
	GOTO INPUT_LOOP
LOCAL = RESULT
SIF STRLENS(MARKNAME:LOCAL) == 0
	GOTO INPUT_LOOP
DRAWLINE
PRINTFORML %MARKNAME:LOCAL%LVの変更(現在{MARK:LOCAL})
PRINTFORML 数値を入力[0-3]（無効な数値でキャンセル）
PRINTFORML [0][1][2][3]
INPUT
SIF RESULT < 0 || RESULT >3
	RESTART
MARK:LOCAL = RESULT

RESTART

;--------------------------------------------------
; EXP操作
;--------------------------------------------------
@EDIT_EXP
DRAWLINE
FOR LOCAL:1, 0, 100
	LOCAL = LOCAL:1
	SIF STRLENS(EXPNAME:LOCAL) == 0
		CONTINUE
	PRINTFORMLC [{LOCAL, 3}]%EXPNAME:LOCAL% ({EXP:LOCAL})　
NEXT
PRINTL 
PRINTL [100]戻る
$INPUT_LOOP
INPUT
SIF RESULT == 100
	RETURN 0
SIF RESULT < 0 || RESULT > 100
	GOTO INPUT_LOOP
LOCAL = RESULT
SIF STRLENS(EXPNAME:LOCAL) == 0
	GOTO INPUT_LOOP
DRAWLINE
PRINTFORML %EXPNAME:LOCAL%の変更(現在{EXP:LOCAL})
PRINTFORML 数値を入力（負の数値でキャンセル）
PRINTFORML [0][1][9][99][999][9999][99999][999999][9999999]
PRINTFORML [-1]

INPUT
SIF RESULT < 0
	RESTART
EXP:LOCAL = RESULT
RESTART

;--------------------------------------------------
; JUEL操作
;--------------------------------------------------
@EDIT_JUEL
DRAWLINE
FOR LOCAL, 0, 200
	SIF STRLENS(PALAMNAME:LOCAL) == 0
		CONTINUE
	PRINTFORMLC [{LOCAL, 3}]%PALAMNAME:LOCAL%の珠({JUEL:LOCAL}) 
NEXT
PRINTLC [200]戻る
PRINTL 
$INPUT_LOOP
INPUT
SIF RESULT == 200
	RETURN 0
SIF RESULT < 0 || RESULT > 200
	GOTO INPUT_LOOP
LOCAL = RESULT
SIF STRLENS(PALAMNAME:LOCAL) == 0
	GOTO INPUT_LOOP
DRAWLINE
PRINTFORML %PALAMNAME:LOCAL%の珠の変更(現在{JUEL:LOCAL})
PRINTFORML 数値を入力（負の数値でキャンセル）
PRINTFORML [0][1][9][99][999][9999][99999][999999]
PRINTFORML [9999999][99999999][999999999]
PRINTFORML [-1]
INPUT
SIF RESULT < 0
	RESTART
JUEL:LOCAL = RESULT
RESTART

;--------------------------------------------------
; RELATION操作
;--------------------------------------------------
;RERATIONの変更
@EDIT_RELATION
DRAWLINE
PRINTL 現在の相性
FOR LOCAL, 0, 200
	SIF RELATION:LOCAL <= 0
		CONTINUE
	CSVCALLNAME LOCAL, 0
	PRINTFORMLC [{LOCAL, 3}]%RESULTS%({RELATION:LOCAL}％)
	;LOCAL:2に一番大きい番号を記録
	LOCAL:2 = LOCAL 
NEXT
PRINTL 
PRINTFORML [0-{LOCAL:2}]対応する番号のキャラとの相性の変更（無効な数値でキャンセル）
PRINTL [1000]戻る
$INPUT_LOOP
INPUT
SIF RESULT == 1000
	RETURN 0
SIF RESULT < 0 || RESULT > LOCAL:2
	GOTO INPUT_LOOP
LOCAL = RESULT
LOCAL:1 = RESULT + 100
DRAWLINE
PRINTFORML [%ITEMNAME:(LOCAL:1)%]との相性の変更(現在{RELATION:LOCAL})
PRINTFORML 数値を入力[0-1000]（無効な数値でキャンセル）
PRINTFORML [0][10][100][1000]
PRINTFORML [-1]
INPUT
SIF RESULT < 0 || RESULT > 1000
	RESTART
RELATION:LOCAL = RESULT
RESTART

;--------------------------------------------------
; CFLAG操作
;--------------------------------------------------
@EDIT_CFLAG
LOCAL = 0
$PRINT_LIST
DRAWLINE
PRINTFORML 現在立っているCFLAG
PRINTFORML どれを変更しますか？ ＜page.{LOCAL+1}＞
DRAWLINE
REPEAT 1000
	SIF COUNT < LOCAL * 100 || COUNT >= (LOCAL + 1) * 100
		CONTINUE
	;CFLAGNAMEが設定されていなくても数値が0ではないCFLAGがあれば表示
	IF STRLENS(CFLAGNAME:COUNT) == 0
		IF CFLAG:COUNT != 0
			PRINTFORMLC [{COUNT, 4}] 名称設定無し = {CFLAG:COUNT}
		ELSE
			CONTINUE
		ENDIF
	ENDIF
	PRINTFORMLC [{COUNT, 4}] %CFLAGNAME:COUNT% = {CFLAG:COUNT}
REND
PRINTL 
DRAWLINE
PRINTFORMLC \@(LOCAL <= 0) ? %" " * 17% # [10001]前のページ\@
PRINTLC [10000]戻る
PRINTFORMLC \@(LOCAL >= 199) ? %" " * 17% # [10009]次のページ\@
;PRINTL 
;PRINTFORMLC \@(LOCAL <= 9) ? %" " * 17% # [10011]10ページ前\@
;PRINTFORMLC %" " * 17%
;PRINTFORMLC \@(LOCAL >= 190) ? %" " * 17% # [10019]10ページ先\@
;PRINTL 
$INPUT_LOOP
INPUT
IF RESULT == 10000
	RETURN 0
ELSEIF RESULT == 10001 && LOCAL > 0
	LOCAL -= 1
	GOTO PRINT_LIST
ELSEIF RESULT == 10009 && LOCAL < 8
	LOCAL += 1
	GOTO PRINT_LIST
;ELSEIF RESULT == 10011 && LOCAL > 9
;	LOCAL -= 10
;	GOTO PRINT_LIST
;ELSEIF RESULT == 10019 && LOCAL < 190
;	LOCAL += 10
;	GOTO PRINT_LIST
ELSEIF RESULT < 0 || RESULT > 10000
	GOTO INPUT_LOOP
ENDIF
LOCAL:1 = RESULT
DRAWLINE
PRINTFORML CFLAG:{LOCAL:1}(%CFLAGNAME:(LOCAL:1)%)の変更(現在{CFLAG:(LOCAL:1)})
PRINTFORML 数値を入力（負の数値でキャンセル）
PRINTFORML [0][1][9][99][999][9999][99999][999999]

INPUT
SIF RESULT < 0
	RESTART
CFLAG:(LOCAL:1) = RESULT
GOTO PRINT_LIST
;--------------------------------------------------
;TFLAG編集
;--------------------------------------------------
@EDIT_TFLAG
LOCAL = 0
$PRINT_LIST
DRAWLINE
PRINTFORML 現在立っているTFLAG
PRINTFORML どれを変更しますか？ ＜page.{LOCAL+1}＞
DRAWLINE
REPEAT 1000
	SIF STRLENS(TFLAGNAME:COUNT) == 0
		CONTINUE
;	SIF COUNT < LOCAL * 50 || COUNT >= (LOCAL + 1) * 50
;		CONTINUE
	PRINTFORMLC [{COUNT, 3}] %TFLAGNAME:COUNT% = {TFLAG:COUNT}
REND
PRINTL 
DRAWLINE
;PRINTFORMLC \@(LOCAL <= 0) ? %" " * 16% # [1001]前のページ\@
PRINTLC [1000]戻る
;PRINTFORMLC \@(LOCAL >= 19) ? %" " * 16% # [1009]次のページ\@
PRINTL [1010]TFLAG全リセット(要注意)
$INPUT_LOOP
INPUT
IF RESULT == 1000
	RETURN 0
;ELSEIF RESULT == 1001 && LOCAL > 0
;	LOCAL -= 1
;	GOTO PRINT_LIST
;ELSEIF RESULT == 1009 && LOCAL < 19
;	LOCAL += 1
;	GOTO PRINT_LIST
ELSEIF RESULT == 1010
	VARSET TFLAG, 0
	PRINTW TFLAGを全てリセットしました
	GOTO PRINT_LIST
ELSEIF RESULT < 0 || RESULT > 1000
	GOTO INPUT_LOOP
ENDIF
LOCAL:1 = RESULT
DRAWLINE
PRINTFORML TFLAG:{LOCAL:1}(%TFLAGNAME:(LOCAL:1)%)の変更(現在{TFLAG:(LOCAL:1)})
PRINTFORML 数値を入力（負の数値でキャンセル）
INPUT
SIF RESULT < 0
	RESTART
TFLAG:(LOCAL:1) = RESULT
GOTO PRINT_LIST

;--------------------------------------------------
;FLAG編集
;--------------------------------------------------
@EDIT_FLAG
VARSET LOCAL, 0
LOCAL:1 = 199
$PRINT_LIST
DRAWLINE
PRINTFORML 現在立っているFLAG
PRINTFORML どれを変更しますか？ ＜page.{LOCAL+1}＞
DRAWLINE
REPEAT 10000
	SIF STRLENS(FLAGNAME:COUNT) == 0
		CONTINUE
;	SIF COUNT < LOCAL * 50 || COUNT >= (LOCAL + 1) * 50
;		CONTINUE
	PRINTFORMLC [{COUNT, 4}] %FLAGNAME:COUNT% = {FLAG:COUNT}
REND
PRINTL 
DRAWLINE
;PRINTFORMLC \@(LOCAL <= 0) ? %" " * 17% # [10001]前のページ\@
PRINTLC [10000]戻る
;PRINTFORMLC \@(LOCAL >= LOCAL:1) ? %" " * 17% # [10009]次のページ\@
;PRINTL 
;PRINTFORMLC \@(LOCAL/10 <= 0) ? %" " * 17% # [10011]10ページ前\@
;PRINTFORMLC %" " * 17%
;PRINTFORMLC \@(LOCAL/10 >= LOCAL:1/10) ? %" " * 17% # [10019]10ページ先\@
;PRINTL 
$INPUT_LOOP
INPUT
IF RESULT == 10000
	RETURN 0
;ELSEIF RESULT == 10001 && LOCAL > 0
;	LOCAL -= 1
;	GOTO PRINT_LIST
;ELSEIF RESULT == 10009 && LOCAL < LOCAL:1
;	LOCAL += 1
;	GOTO PRINT_LIST
;ELSEIF RESULT == 10011 && LOCAL/10 > 0
;	LOCAL -= 10
;	GOTO PRINT_LIST
;ELSEIF RESULT == 10019 && LOCAL/10 < LOCAL:1/10
;	LOCAL += 10
;	GOTO PRINT_LIST
ELSEIF RESULT < 0 || RESULT > 10000
	GOTO INPUT_LOOP
ENDIF
LOCAL:2 = RESULT
DRAWLINE
PRINTFORML FLAG:{LOCAL:2}(%FLAGNAME:(LOCAL:2)%)の変更(現在{FLAG:(LOCAL:2)})
PRINTFORML 数値を入力（負の数値でキャンセル）
INPUT
SIF RESULT < 0
	RESTART
FLAG:(LOCAL:2) = RESULT
GOTO PRINT_LIST

;--------------------------------------------------
; TEQUIP操作
;--------------------------------------------------
@EDIT_TEQUIP
DRAWLINE
PRINTL 現在使用中の装着系の道具の状態
FOR LOCAL, 0, 100
	SIF STRLENS(TEQUIPNAME:LOCAL) == 0 || TEQUIP:LOCAL == 0
		CONTINUE
	PRINTFORMLC [{LOCAL, 3}] %TEQUIPNAME:LOCAL% = {TEQUIP:LOCAL}
;	PRINTFORML ={TEQUIP:LOCAL}  
NEXT
PRINTL 
PRINTL [0-99]対応する番号の装着系の道具の状態の変更（無効な数値でキャンセル）
PRINTL [100]装着系の道具の状態の全リセット（要注意）
PRINTL [200]戻る
$INPUT_LOOP
INPUT

IF RESULT == 100
	FOR LOCAL:1, 0, 100
		SIF RESULT == 0 && TEQUIP:(LOCAL:1) <= 0
			CONTINUE
		TEQUIP:(LOCAL:1) = 0
	NEXT
	PRINTW 装着系の道具の状態を全てリセットしました
	RESTART
ELSEIF RESULT == 200
	RETURN 0
ELSEIF RESULT < 0 || RESULT > 100
	GOTO INPUT_LOOP
ENDIF
LOCAL = RESULT
DRAWLINE
PRINTFORML TEQUIP:{LOCAL}(%TEQUIPNAME:LOCAL%)の変更(現在{TEQUIP:LOCAL})
PRINTFORML 数値を入力（負の数値でキャンセル）
INPUT
SIF RESULT < 0
	RESTART
TEQUIP:LOCAL = RESULT

RESTART

;--------------------------------------------------
; ITEM操作
;--------------------------------------------------
@DISP_ITEM, ARG
#FUNCTION
;ITEMの有無をCSVから取得
RETURNF (STRLENS(ITEMNAME:ARG)) ? 1 # 0

;ITEM変更
@EDIT_ITEM
;LOCAL:1が1なら素材表示。0ならそれ以外のアイテム表示。長くなってしまうので分割
DRAWLINE
IF LOCAL:1 == 0
	REPEAT 99
		SIF DISP_ITEM(COUNT) == 0
			CONTINUE
		IF ITEM:COUNT == 0
			PRINTFORMLC [{COUNT, 3}]×【%ITEMNAME:COUNT%】
		ELSEIF ITEM:COUNT == 1
			PRINTFORMLC [{COUNT, 3}]○【%ITEMNAME:COUNT%】
		ELSEIF ITEM:COUNT > 1
			PRINTFORMLC [{COUNT, 3}]{ITEM:COUNT,2}【%ITEMNAME:COUNT%】
		ENDIF
	REND
	PRINTL 
	FOR LOCAL, 500, 600
		SIF DISP_ITEM(LOCAL) == 0
			CONTINUE
		IF ITEM:LOCAL == 0
			PRINTFORMLC [{LOCAL, 3}]×【%ITEMNAME:LOCAL%】
		ELSEIF ITEM:LOCAL > 0
			PRINTFORMLC [{LOCAL, 3}]{ITEM:LOCAL,2}【%ITEMNAME:LOCAL%】
		ENDIF
	NEXT
	PRINTL 
ELSE
	FOR LOCAL, 900, 998
		SIF DISP_ITEM(LOCAL) == 0
			CONTINUE
		IF ITEM:LOCAL == 0
			PRINTFORMLC [{LOCAL, 3}]×【%ITEMNAME:LOCAL%】
		ELSEIF ITEM:LOCAL > 0
			PRINTFORMLC [{LOCAL, 3}]{ITEM:LOCAL,2}【%ITEMNAME:LOCAL%】
		ENDIF
	NEXT
	PRINTL 
ENDIF
PRINTL [100]戻る
IF DISP_ITEM(900) && LOCAL:1 == 0
	PRINTL [1000]素材表示
ELSEIF DISP_ITEM(900) && LOCAL:1
	PRINTL [1000]素材以外のアイテム表示
ENDIF
PRINTL [1001]全部所持する
PRINTL [1002]全部所持しない

PRINTL ×…持っていない ○…持っている 数字…その数だけ持っている
$INPUT_LOOP_1
INPUT
IF RESULT == 100
	RETURN 0
ELSEIF RESULT == 1000 && DISP_ITEM(900)
	IF LOCAL:1 == 0
		LOCAL:1 = 1
	ELSE
		LOCAL:1 = 0
	ENDIF
	RESTART
ELSEIF RESULT == 1001
	PRINTW アイテムを全て所持します
	FOR LOCAL, 0, 59
		SIF DISP_ITEM(LOCAL) == 0
			CONTINUE
		IF LOCAL > 24 && LOCAL < 40
			ITEM:LOCAL = 99
		ELSE
			ITEM:LOCAL = 1
		ENDIF
	NEXT
	FOR LOCAL, 500, 600
		SIF DISP_ITEM(LOCAL) == 0
			CONTINUE
		ITEM:LOCAL = 99
	NEXT
	FOR LOCAL, 900, 998
		SIF DISP_ITEM(LOCAL) == 0
			CONTINUE
		ITEM:LOCAL = 99
	NEXT
	RESTART
ELSEIF RESULT == 1002
	PRINTW アイテムを全て所持しない状態にします
	FOR LOCAL, 0, 998
		SIF DISP_ITEM(LOCAL) == 0
			CONTINUE
		ITEM:LOCAL = 0
	NEXT
	RESTART
ELSEIF (RESULT >= 0 && RESULT < 1000)
	LOCAL = RESULT
ELSE
	GOTO INPUT_LOOP_1
ENDIF
SIF DISP_ITEM(LOCAL) == 0
	GOTO INPUT_LOOP_1
DRAWLINE
;複数所有することができるものは数を入力させる
IF (LOCAL > 24 && LOCAL < 40) || (LOCAL >= 500 && LOCAL < 998)
	DRAWLINE
	PRINTFORML %ITEMNAME:LOCAL%をいくつ所持しますか？
	PRINTFORML 所持できるのは0〜99個までです。(現在{ITEM:LOCAL}個所持)
	PRINTLC [0] 持たない
	PRINTLC [1] 1個
	PRINTLC [5] 5個
	PRINTLC [99] 99個
	PRINTL 
	$INPUT_LOOP_2
	INPUT
	IF RESULT < 0 || RESULT > 99
		CLEARLINE 1
		REUSELASTLINE  
		GOTO INPUT_LOOP_2
	ELSE
		PRINTFORMW ＜%ITEMNAME:LOCAL%\@(RESULT == 0) ? を持たないように # を{RESULT}個所持\@しました＞
		ITEM:LOCAL = RESULT
	ENDIF
;そうでないものはON/OFF
ELSEIF ITEM:LOCAL
	PRINTFORMW [%ITEMNAME:LOCAL%]を喪失しました
	ITEM:LOCAL = 0
ELSE
	PRINTFORMW [%ITEMNAME:LOCAL%]を所持しました
	ITEM:LOCAL = 1
ENDIF
RESTART

;ITEM(素材)変更
@EDIT_SOZAI
DRAWLINE
FOR LOCAL, 900, 998
	SIF DISP_ITEM(LOCAL) == 0
		CONTINUE
	IF ITEM:LOCAL == 0
		PRINTFORMLC [{LOCAL, 3}]×【%ITEMNAME:LOCAL%】
	ELSEIF ITEM:LOCAL > 0
		PRINTFORMLC [{LOCAL, 3}]{ITEM:LOCAL,2}【%ITEMNAME:LOCAL%】
	ENDIF
NEXT
PRINTL 
PRINTL [100]戻る

;--------------------------------------------------
; SAVESTR操作
;--------------------------------------------------
;SAVESTRのうち除外したい場合は使う
@DISP_SAVESTR, ARG
#FUNCTION
RETURNF (ARG != 1) ? 0 # 1

;SAVESTR変更-----------------------------------------------------------
@EDIT_SAVESTR
DRAWLINE
PRINTL 現在使用中のSAVESTRの状態
FOR LOCAL, 0, 100
	LOCAL:1 = DISP_SAVESTR(LOCAL)
	SIF LOCAL:1 == 0 || SAVESTR:LOCAL == ""
		CONTINUE
	PRINTFORM [{LOCAL, 3}] SAVESTR:{LOCAL} = %SAVESTR:LOCAL%
NEXT
PRINTL 
PRINTL [0-99]対応する番号のSAVESTRの状態の変更（無効な数値でキャンセル）
PRINTL [100]SAVESTRの状態の全リセット（要注意）
PRINTL [200]戻る
$INPUT_LOOP
INPUT

IF RESULT == 100
	VARSET SAVESTR
	PRINTW SAVESTRの状態を全てリセットしました
	RESTART
ENDIF

SIF RESULT == 200
	RETURN 0
SIF RESULT < 0 || RESULT > 100
	GOTO INPUT_LOOP
LOCAL = RESULT
DRAWLINE
PRINTS SAVESTR:LOCAL
PRINTFORML の変更
PRINTFORML 文字列を入力（無入力でキャンセル）
INPUTS
SIF RESULTS == ""
	RESTART
SAVESTR:LOCAL = %RESULTS%

RESTART

;--------------------------------------------------
;妊娠操作
;--------------------------------------------------
@EDIT_GET_CHILD
;LOCAL:1〜にMASTER等を代入し使用
VARSET LOCAL,0
LOCAL:1 = MASTER
SIF ASSI > 0
	LOCAL:2 = ASSI
LOCAL:3 = TARGET

DRAWLINE
PRINTL 誰を妊娠させますか？
;(LOCAL:LOCAL):MASTER,ASSI,TARGET
;LOCAL:101〜が1なら選択可能
FOR LOCAL, 1, 4
	;オトコなら表示しない
	SIF TALENT:(LOCAL:LOCAL):122
		CONTINUE
	;助手がいなかったら助手を表示しない
	SIF LOCAL == 2 && ASSI < 0
		CONTINUE
	IF TALENT:(LOCAL:LOCAL):134
		PRINTFORML [{LOCAL,3}] %CALLNAME:(LOCAL:LOCAL)%　妊娠中
		CONTINUE
	ELSEIF CFLAG:(LOCAL:LOCAL):104
		PRINTFORM [{LOCAL,3}] %CALLNAME:(LOCAL:LOCAL)%　
		IF CFLAG:(LOCAL:LOCAL):104 == 1
			PRINTFORML %CALLNAME:MASTER%の精液で妊娠予定
		ELSEIF ASSI > 0 && CFLAG:(LOCAL:LOCAL):104 == 2
			PRINTFORML %CALLNAME:ASSI%（助手）の精液で妊娠予定
		ELSEIF CFLAG:(LOCAL:LOCAL):104 == 3
			PRINTFORML %CALLNAME:TARGET%（パートナー）の精液で妊娠予定
		ELSE
			PRINTFORML 数値は代入されているが妊娠せず
		ENDIF
	ELSE
		PRINTFORML [{LOCAL,3}] %CALLNAME:(LOCAL:LOCAL)%　妊娠していない
	ENDIF
	LOCAL:(100 + LOCAL) = 1
NEXT
PRINTL [100] 戻る

$INPUT_LOOP
INPUT
LOCAL = RESULT
IF RESULT == 100
	RETURN 0
ELSEIF RESULT > 100
	PRINTL 正しい数値を入力してください
	GOTO INPUT_LOOP
ELSEIF LOCAL:(100+RESULT) != 1
	PRINTL 正しい数値を入力してください
	GOTO INPUT_LOOP
ELSE
	PRINTFORML %CALLNAME:(LOCAL:LOCAL)%を誰の精液で妊娠させますか？
ENDIF

;LOCAL:101〜初期化
LOCAL:101 = 0
LOCAL:102 = 0
LOCAL:103 = 0

IF LOCAL:LOCAL != MASTER && (TALENT:MASTER:121 || TALENT:MASTER:122)
	PRINTFORML [1] %CALLNAME:MASTER%
	LOCAL:101 = 1
ENDIF
IF ASSI >= 0 && LOCAL:LOCAL != ASSI && (TALENT:ASSI:121 || TALENT:ASSI:122)
	PRINTFORML [2] %CALLNAME:ASSI%
	LOCAL:102 = 1
ENDIF
IF LOCAL:LOCAL != TARGET && (TALENT:TARGET:121 || TALENT:TARGET:122)
	PRINTFORML [3] %CALLNAME:TARGET%
	LOCAL:103 = 1
ENDIF
PRINTFORML [0] 妊娠をリセット

$INPUT_LOOP_2
INPUT
IF RESULT == 0
	PRINTFORMW 妊娠をリセットしました
ELSEIF RESULT > 100
	PRINTL 正しい数値を入力してください
	GOTO INPUT_LOOP_2
ELSEIF LOCAL:(100+RESULT) != 1
	PRINTL 正しい数値を入力してください
	GOTO INPUT_LOOP_2
ELSE
	PRINTFORMW 妊娠させました
ENDIF
CFLAG:(LOCAL:LOCAL):104 = RESULT
RESTART

;--------------------------------------------------
;戦闘力操作
;--------------------------------------------------
@EDIT_BATTLE_POWER
DRAWLINE
T = TARGET
CALL GET_BATTLE_POWER
PRINTFORML %NAME:TARGET%の耐力({BASE:HP}/{MAXBASE:HP})  戦闘力：{P}  魔力{BASE:MP} 
PRINTFORML 
PRINTFORML どの値を変更しますか？
PRINTFORML 耐力に関わるのは最大体力と絶頂経験（主人公のみパートナーを絶頂させた回数）
PRINTFORML 魔力に関わるのは最大気力と精液経験（主人公のみ射精経験）
PRINTFORML 

PRINTFORML [  0]最大体力：{MAXBASE:0}
PRINTFORML [  1]絶頂経験：{EXP:2}
PRINTFORML [  2]最大気力：{MAXBASE:1}
PRINTFORML [  3]精液経験：{EXP:20}
IF MASTER == TARGET
	PRINTFORML [  4]パートナーを絶頂させた回数：{CFLAG:2}
ELSE
	PRINTFORML [  4]好感度：{CFLAG:2}
ENDIF
PRINTFORML [  5]戦闘技能レベル：{ABL:88}
PRINTFORML [  6]戦闘素質：{ABL:98}
PRINTFORML [  7]射精経験：{EXP:3}
PRINTFORML [  8]戦闘経験：{EXP:95}
PRINTL [ 99] 戦闘力MAX
PRINTL [100] 戻る

$INPUT_LOOP
INPUT
LOCAL = RESULT
IF RESULT == 100
	RETURN 0
ELSEIF RESULT == 99
	PRINTW 戦闘力をMAXにしました
	MAXBASE:0 = 9999
	MAXBASE:1 = 9999
	EXP:2 = 9999999
	SIF MASTER != TARGET
		EXP:20 = 9999999
	CFLAG:2 = 999999999999999999
	ABL:88 = 9999
	ABL:98 = 9999
	SIF MASTER == TARGET
		EXP:3 = 9999999
	EXP:95 = 9999999
	;戦闘力再計算
	CALL EDIT_BATTLE_POWER_CALC
	RESTART
ELSEIF RESULT < 0 && RESULT > 6
	PRINTL 正しい数値を入力してください
	GOTO INPUT_LOOP
ENDIF


PRINTL どの値にするか入力してください（負の数値でキャンセル）
PRINTFORML [0][1][9][99][999][9999][99999][999999]
PRINTL 

$INPUT_LOOP_2
INPUT
SIF RESULT < 0
	RESTART
IF LOCAL == 0
	MAXBASE:0 = RESULT
ELSEIF LOCAL == 1
	EXP:2 = RESULT
ELSEIF LOCAL == 2
	MAXBASE:1 = RESULT
ELSEIF LOCAL == 3
	EXP:20 = RESULT
ELSEIF LOCAL == 4
	CFLAG:2 = RESULT
ELSEIF LOCAL == 5
	ABL:88 = RESULT
ELSEIF LOCAL == 6
	ABL:98 = RESULT
ELSEIF LOCAL == 7
	EXP:3 = RESULT
ELSEIF LOCAL == 8
	EXP:95 = RESULT
ENDIF

PRINTFORML {RESULT}に変更しました

;戦闘力再計算
CALL EDIT_BATTLE_POWER_CALC

RESTART

;--------------------------------------------------
;戦闘力再計算
;--------------------------------------------------
@EDIT_BATTLE_POWER_CALC
;耐力と魔力の成長を計算
IF TARGET == MASTER
	;主人公限定で、パートナーを絶頂させた回数で最大耐力増加
	IF CFLAG:TARGET:2 <= 100
		MAXBASE:TARGET:HP = MAXBASE:TARGET:0 * (100 + CFLAG:TARGET:2) / 100
	ELSEIF CFLAG:TARGET:2 <= 700
		MAXBASE:TARGET:HP = MAXBASE:TARGET:0 * (300 + CFLAG:TARGET:2) / 200
	ELSEIF CFLAG:TARGET:2 <= 100000
		MAXBASE:TARGET:HP = MAXBASE:TARGET:0 * (1300 + CFLAG:TARGET:2) / 100
	ELSE
		;オーバーフロー対策に先に100で割っておく
		MAXBASE:TARGET:HP = MAXBASE:TARGET:0 / 100 * (1300 + CFLAG:TARGET:2) / 4
	ENDIF
	
	;Phモード限定の淫乱ボーナス
	IF FLAG:5 == 10
		MAXBASE:TARGET:HP = MAXBASE:TARGET:HP * (5 + I) / 5
	ENDIF
ELSE
	;耐力＝体力を基準値として、絶頂経験で増加
	IF EXP:TARGET:2 <= 100
		MAXBASE:TARGET:HP = MAXBASE:TARGET:0 * (100 + EXP:TARGET:2) / 100
	ELSEIF EXP:TARGET:2 <= 700
		MAXBASE:TARGET:HP = MAXBASE:TARGET:0 * (300 + EXP:TARGET:2) / 200
	ELSEIF EXP:TARGET:2 <= 100000
		MAXBASE:TARGET:HP = MAXBASE:TARGET:0 * (1300 + EXP:TARGET:2) / 100
	ELSE
		;オーバーフロー対策に先に100で割っておく
		MAXBASE:TARGET:HP = MAXBASE:TARGET:0 / 100 * (1300 + EXP:TARGET:2) / 4
	ENDIF

	;Phモード限定の淫乱ボーナス
	IF FLAG:5 == 10
		MAXBASE:TARGET:HP = MAXBASE:TARGET:HP * (5 + I) / 5
	ENDIF
ENDIF

IF TARGET == MASTER
	;主人公限定で魔力＝気力の約3%を基準値として、射精経験で増加
	IF EXP:TARGET:3 <= 100
		MAXBASE:TARGET:MP = MAXBASE:TARGET:1 / 30 * (50 + EXP:TARGET:3) / 50
	ELSEIF EXP:TARGET:3 <= 400
		MAXBASE:TARGET:MP = MAXBASE:TARGET:1 / 30 * (EXP:TARGET:3 - 25) / 25
	ELSEIF EXP:TARGET:3 <= 1000000
		MAXBASE:TARGET:MP = MAXBASE:TARGET:1 / 30 * (EXP:TARGET:3 - 250) / 10
	ELSE
		;オーバーフロー対策に先に100で割っておく
		MAXBASE:TARGET:MP = MAXBASE:TARGET:1 / 300 * (EXP:TARGET:3 - 250)
	ENDIF
ELSE
	;魔力＝気力の10%を基準値として、精液経験で増加
	IF EXP:TARGET:20 <= 100
		MAXBASE:TARGET:MP = MAXBASE:TARGET:1 / 10 * (50 + EXP:TARGET:20) / 50
	ELSEIF EXP:TARGET:20 <= 400
		MAXBASE:TARGET:MP = MAXBASE:TARGET:1 / 10 * (EXP:TARGET:20 - 25) / 25
	ELSEIF EXP:TARGET:20 <= 1000000
		MAXBASE:TARGET:MP = MAXBASE:TARGET:1 / 10 * (EXP:TARGET:20 - 250) / 10
	ELSE
		;オーバーフロー対策に先に100で割っておく
		MAXBASE:TARGET:MP = MAXBASE:TARGET:1 / 100 * (EXP:TARGET:20 - 250)
	ENDIF
ENDIF
BASE:HP = MAXBASE:HP
BASE:MP = MAXBASE:MP

;=============================================================================
;クイックロード用設定
;=============================================================================
@QUICKLOAD
PRINTFORMW タイトル画面に戻ります
RESETDATA
BEGIN TITLE

;--------------------------------------------------
;ルート変更
;--------------------------------------------------
@EDIT_GAME_ROOT
IF TALENT:MASTER:998 == 0
	;この直後のRETURN 0を削除すると、ルート変更可能
	RETURN 0
ENDIF

VARSET LOCALS, ""
LOCALS:0 = EASY
LOCALS:1 = NORMAL
LOCALS:2 = HARD
LOCALS:3 = LUNATIC
LOCALS:4 = S-LUNATIC
LOCALS:9 = EXTRA
LOCALS:10 = PHANTASM

;EXとPHではルート変更できず
IF FLAG:5 == 9 || FLAG:5 == 10
	PRINTFORMW 難易度:%LOCALS:(FLAG:5)%ではルート変更できません
	RETURN 0
ENDIF

VARSET TSTR, ""
VARSET LOCAL, 0
VARSET A, 0
TSTR:0 = 紅魔郷
TSTR:1 = 永夜抄
TSTR:2 = 妖々夢
TSTR:3 = 主人公
TSTR:11 = 風神録
TSTR:12 = 地霊殿
TSTR:13 = 星蓮船・魔界
;TSTR:14 = 神霊廟

PRINTFORML 現在、%TSTR:(FLAG:3)%ルート、難易度:%LOCALS:(FLAG:5)%で攻略中です
PRINTFORML 変更したいルートを選択してください
FOR LOCAL, 0, 20
	SIF TSTR:LOCAL == ""
		CONTINUE
	PRINTFORM [{LOCAL,2}] %TSTR:LOCAL%ルート
	SIF LOCAL == FLAG:3
		PRINTFORM (現在のルート)
	PRINTL 
	A:LOCAL = 1
NEXT
PRINTL [100] 変更しない
$INPUT_ROOT
INPUT

IF RESULT == 100
	PRINTW 変更しませんでした
	RETURN 0
ELSEIF A:RESULT == 0 
	PRINTFORML 正しい値を入力してください
	GOTO INPUT_ROOT
ENDIF
FLAG:3 = RESULT
PRINTFORMW 攻略ルートを%TSTR:(FLAG:3)%ルートに変更しました

;=============================================================================
;デバッグ用全フラグ表示関数（ただし、デバッグモードのON/OFFと無関係に稼動する）
;=============================================================================
@PRINT_ALL_FLAG, ARG
VARSET LOCAL, 0
VARSET LOCALS, ""
DRAWLINE
PRINTL デバッグ用フラグ表示（立っているフラグのみ）
DRAWLINE
PRINTLC [ 0] - A 〜 Z
PRINTLC [ 1] - MASTER,ASSI,TARGET
PRINTLC [ 2] - UP,DOWN
PRINTLC [ 3] - LOSEBASE
PRINTLC [ 4] - SELECTCOM
PRINTLC [ 5] - PREVCOM
PRINTLC [ 6] - NEXTCOM
PRINTLC [ 7] - ITEM
PRINTLC [ 8] - DAY,TIME
PRINTLC [ 9] - MONEY
PRINTLC [10] - ASSIPLAY
PRINTLC [11] - ITEMSALES
PRINTLC [12] - ITEMPRICE
PRINTLC [13] - BOUGHT
PRINTLC [14] - PBAND
PRINTLC [15] - PLAYER
PRINTLC [16] - COUNT
PRINTLC [17] - FLAG
PRINTLC [18] - TFLAG
PRINTLC [19] - RESULT(ただしRESULT:0は破壊される)
PRINTLC [20] - STR
PRINTLC [21] - SAVESTR
PRINTLC [22] - TSTR
PRINTLC [23] - RESULTS
PRINTLC [30] - ABL
PRINTLC [31] - BASE,MAXBASE
PRINTLC [32] - CFLAG
PRINTLC [33] - DOWNBASE
PRINTLC [34] - EX
PRINTLC [35] - EXP
PRINTLC [36] - EQUIP
PRINTLC [37] - GOTJUEL
PRINTLC [38] - JUEL
PRINTLC [39] - MARK
PRINTLC [40] - NOWEX
PRINTLC [41] - PALAM
PRINTLC [42] - RELATION
PRINTLC [43] - SOURCE
PRINTLC [44] - STAIN
PRINTLC [45] - TALENT
PRINTLC [46] - TEQUIP
PRINTLC [47] - CSTR
PRINTLC [48] - NO
PRINTL 
PRINTL [100] - 戻る
PRINTL どのフラグが立っているか？をチェックしますか？
DRAWLINE
$INPUT_LOOP_1
INPUT
LOCAL:3 = 0
SELECTCASE RESULT
	CASE 0
		;一文字変数A〜Z
		FOR LOCAL, 1, 27
			SELECTCASE LOCAL
				CASE 1
					FOR LOCAL:1, 0, VARSIZE("A")
						LOCAL:2 = A:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC A:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 2
					FOR LOCAL:1, 0, VARSIZE("B")
						LOCAL:2 = B:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC B:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 3
					FOR LOCAL:1, 0, VARSIZE("C")
						LOCAL:2 = C:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC C:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 4
					FOR LOCAL:1, 0, VARSIZE("D")
						LOCAL:2 = D:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC D:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 5
					FOR LOCAL:1, 0, VARSIZE("E")
						LOCAL:2 = E:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC E:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 6
					FOR LOCAL:1, 0, VARSIZE("F")
						LOCAL:2 = F:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC F:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 7
					FOR LOCAL:1, 0, VARSIZE("G")
						LOCAL:2 = G:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC G:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 8
					FOR LOCAL:1, 0, VARSIZE("H")
						LOCAL:2 = H:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC H:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 9
					FOR LOCAL:1, 0, VARSIZE("I")
						LOCAL:2 = I:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC I:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 10
					FOR LOCAL:1, 0, VARSIZE("J")
						LOCAL:2 = J:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC J:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 11
					FOR LOCAL:1, 0, VARSIZE("K")
						LOCAL:2 = K:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC K:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 12
					FOR LOCAL:1, 0, VARSIZE("L")
						LOCAL:2 = L:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC L:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 13
					FOR LOCAL:1, 0, VARSIZE("M")
						LOCAL:2 = M:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC M:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 14
					FOR LOCAL:1, 0, VARSIZE("N")
						LOCAL:2 = N:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC N:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 15
					FOR LOCAL:1, 0, VARSIZE("O")
						LOCAL:2 = O:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC O:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 16
					FOR LOCAL:1, 0, VARSIZE("P")
						LOCAL:2 = P:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC P:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 17
					FOR LOCAL:1, 0, VARSIZE("Q")
						LOCAL:2 = Q:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC Q:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 18
					FOR LOCAL:1, 0, VARSIZE("R")
						LOCAL:2 = R:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC R:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 19
					FOR LOCAL:1, 0, VARSIZE("S")
						LOCAL:2 = S:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC S:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 20
					FOR LOCAL:1, 0, VARSIZE("T")
						LOCAL:2 = T:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC T:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 21
					FOR LOCAL:1, 0, VARSIZE("U")
						LOCAL:2 = U:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC U:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 22
					FOR LOCAL:1, 0, VARSIZE("V")
						LOCAL:2 = V:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC V:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 23
					FOR LOCAL:1, 0, VARSIZE("W")
						LOCAL:2 = W:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC W:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 24
					FOR LOCAL:1, 0, VARSIZE("X")
						LOCAL:2 = X:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC X:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 25
					FOR LOCAL:1, 0, VARSIZE("Y")
						LOCAL:2 = Y:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC Y:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 26
					FOR LOCAL:1, 0, VARSIZE("Z")
						LOCAL:2 = Z:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC Z:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
			ENDSELECT
		NEXT
	CASE 1
		;MASTER,ASSI,TARGET
		FOR LOCAL, 1, 4
			SELECTCASE LOCAL
				CASE 1
					FOR LOCAL:1, 0, VARSIZE("MASTER")
						LOCAL:2 = MASTER:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC MASTER:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 2
					FOR LOCAL:1, 0, VARSIZE("ASSI")
						LOCAL:2 = ASSI:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC ASSI:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 3
					FOR LOCAL:1, 0, VARSIZE("TARGET")
						LOCAL:2 = TARGET:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC TARGET:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
			ENDSELECT
		NEXT

	CASE 2
		;UP,DOWN
		FOR LOCAL, 1, 3
			SELECTCASE LOCAL
				CASE 1
					FOR LOCAL:1, 0, VARSIZE("UP")
						LOCAL:2 = UP:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC UP:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 2
					FOR LOCAL:1, 0, VARSIZE("DOWN")
						LOCAL:2 = DOWN:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC DOWN:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
			ENDSELECT
		NEXT
	CASE 3
		;LOSEBASE
		FOR LOCAL:1, 0, VARSIZE("LOSEBASE")
			LOCAL:2 = LOSEBASE:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC LOSEBASE:{LOCAL:1} = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 4
		;SELECTCOM
		FOR LOCAL:1, 0, VARSIZE("SELECTCOM")
			LOCAL:2 = SELECTCOM:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC SELECTCOM:{LOCAL:1} = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 5
		;PREVCOM
		FOR LOCAL:1, 0, VARSIZE("PREVCOM")
			LOCAL:2 = PREVCOM:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC PREVCOM:{LOCAL:1} = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 6
		;NEXTCOM
		FOR LOCAL:1, 0, VARSIZE("NEXTCOM")
			LOCAL:2 = NEXTCOM:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC NEXTCOM:{LOCAL:1} = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 7
		;ITEM
		FOR LOCAL:1, 0, VARSIZE("ITEM")
			LOCAL:2 = ITEM:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC ITEM:{LOCAL:1}（%ITEMNAME:(LOCAL:1)%） = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 8
		;DAY,TIME
		FOR LOCAL, 1, 3
			SELECTCASE LOCAL
				CASE 1
					FOR LOCAL:1, 0, VARSIZE("DAY")
						LOCAL:2 = DAY:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC DAY:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
				CASE 2
					FOR LOCAL:1, 0, VARSIZE("TIME")
						LOCAL:2 = TIME:(LOCAL:1)
						IF LOCAL:2
							PRINTFORMLC TIME:{LOCAL:1} = {LOCAL:2}
							CALL SCROLL, ++LOCAL:3
						ENDIF
					NEXT
			ENDSELECT
		NEXT

	CASE 9
		;MONEY
		FOR LOCAL:1, 0, VARSIZE("MONEY")
			LOCAL:2 = MONEY:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC MONEY:{LOCAL:1} = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 10
		;ASSIPLAY
		FOR LOCAL:1, 0, VARSIZE("ASSIPLAY")
			LOCAL:2 = ASSIPLAY:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC ASSIPLAY:{LOCAL:1} = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 11
		;ITEMSALES
		FOR LOCAL:1, 0, VARSIZE("ITEMSALES")
			LOCAL:2 = ITEMSALES:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC ITEMSALES:{LOCAL:1}（%ITEMNAME:(LOCAL:1)%） = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 12
		;ITEMPRICE
		FOR LOCAL:1, 0, VARSIZE("ITEMPRICE")
			LOCAL:2 = ITEMPRICE:(LOCAL:1)
			IF LOCAL:2
				PRINTFORML ITEMPRICE:{LOCAL:1}（%ITEMNAME:(LOCAL:1)%） = {LOCAL:2}
;				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 13
		;BOUGHT
		FOR LOCAL:1, 0, VARSIZE("BOUGHT")
			LOCAL:2 = BOUGHT:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC BOUGHT:{LOCAL:1}（%ITEMNAME:(LOCAL:1)%） = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 14
		;PBAND
		FOR LOCAL:1, 0, VARSIZE("PBAND")
			LOCAL:2 = PBAND:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC PBAND:{LOCAL:1} = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 15
		;PLAYER
		FOR LOCAL:1, 0, VARSIZE("PLAYER")
			LOCAL:2 = PLAYER:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC PLAYER:{LOCAL:1} = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 16
		;COUNT
		FOR LOCAL:1, 0, VARSIZE("COUNT")
			LOCAL:2 = COUNT:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC COUNT:{LOCAL:1} = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 17
		;FLAG
		FOR LOCAL:1, 0, VARSIZE("FLAG")
			LOCAL:2 = FLAG:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC FLAG:{LOCAL:1} = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 18
		;TFLAG
		FOR LOCAL:1, 0, VARSIZE("TFLAG")
			LOCAL:2 = TFLAG:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC TFLAG:{LOCAL:1} = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 19
		;RESULT
		FOR LOCAL:1, 0, VARSIZE("RESULT")
			LOCAL:2 = RESULT:(LOCAL:1)
			IF LOCAL:2
				PRINTFORMLC RESULT:{LOCAL:1} = {LOCAL:2}
				CALL SCROLL, ++LOCAL:3
			ENDIF
		NEXT

	CASE 20
		;STR
		FOR LOCAL:1, 0, VARSIZE("STR")
			LOCALS = %STR:(LOCAL:1)%
			SIF LOCALS != ""
				PRINTFORML STR:{LOCAL:1} = %LOCALS%
		NEXT

	CASE 21
		;SAVESTR
		FOR LOCAL:1, 0, VARSIZE("SAVESTR")
			LOCALS = %SAVESTR:(LOCAL:1)%
			SIF LOCALS != ""
				PRINTFORML SAVESTR:{LOCAL:1} = %LOCALS%
		NEXT

	CASE 22
		;TSTR
		FOR LOCAL:1, 0, VARSIZE("TSTR")
			LOCALS = %TSTR:(LOCAL:1)%
			SIF LOCALS != ""
				PRINTFORML TSTR:{LOCAL:1} = %LOCALS%
		NEXT

	CASE 23
		;RESULTS
		FOR LOCAL:1, 0, VARSIZE("RESULTS")
			LOCALS = %RESULTS:(LOCAL:1)%
			SIF LOCALS != ""
				PRINTFORML RESULTS:{LOCAL:1} = %LOCALS%
		NEXT

	CASE 30
		;ABL
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("ABL")
				LOCAL:2 = ABL:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC ABL:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 31
		;BASE,MAXBASE
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("BASE")
				LOCAL:2 = BASE:LOCAL:(LOCAL:1)
				LOCAL:3 = MAXBASE:LOCAL:(LOCAL:1)
				IF LOCAL:2 || LOCAL:3
					PRINTFORML BASE:{LOCAL}:{LOCAL:1}/MAXBASE:{LOCAL}:{LOCAL:1} = {LOCAL:2}/{LOCAL:3}
;					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 32
		;CFLAG
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("CFLAG")
				LOCAL:2 = CFLAG:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC CFLAG:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 33
		;DOWNBASE
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("DOWNBASE")
				LOCAL:2 = DOWNBASE:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC DOWNBASE:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 34
		;EX
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("EX")
				LOCAL:2 = EX:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC EX:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 35
		;EXP
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("EXP")
				LOCAL:2 = EXP:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC EXP:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 36
		;EQUIP
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("EQUIP")
				LOCAL:2 = EQUIP:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC EQUIP:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 37
		;GOTJUEL
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("GOTJUEL")
				LOCAL:2 = GOTJUEL:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC GOTJUEL:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 38
		;JUEL
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("JUEL")
				LOCAL:2 = JUEL:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC JUEL:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 39
		;MARK
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("MARK")
				LOCAL:2 = MARK:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC MARK:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 40
		;NOWEX
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("NOWEX")
				LOCAL:2 = NOWEX:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC NOWEX:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 41
		;PALAM
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("PALAM")
				LOCAL:2 = PALAM:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC PALAM:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 42
		;RELATION
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("RELATION")
				LOCAL:2 = RELATION:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC RELATION:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 43
		;SOURCE
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("SOURCE")
				LOCAL:2 = SOURCE:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC SOURCE:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 44
		;STAIN
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("STAIN")
				LOCAL:2 = STAIN:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC STAIN:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 45
		;TALENT
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("TALENT")
				LOCAL:2 = TALENT:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC TALENT:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 46
		;TEQUIP
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("TEQUIP")
				LOCAL:2 = TEQUIP:LOCAL:(LOCAL:1)
				IF LOCAL:2
					PRINTFORMLC TEQUIP:{LOCAL}:{LOCAL:1} = {LOCAL:2}
					CALL SCROLL, ++LOCAL:3
				ENDIF
			NEXT
		NEXT

	CASE 47
		;CSTR
		FOR LOCAL, 0, CHARANUM
			FOR LOCAL:1, 0, VARSIZE("CSTR")
				LOCALS = %CSTR:LOCAL:(LOCAL:1)%
				SIF LOCAL:2
					PRINTFORML CSTR:{LOCAL}:{LOCAL:1} = %LOCALS%
			NEXT
		NEXT

	CASE 48
		;NO
		FOR LOCAL, 0, CHARANUM
			PRINTFORMLC NO:{LOCAL} = {NO:LOCAL} (%CALLNAME:LOCAL%)
		NEXT

	CASE 100
		RETURN 1
	CASEELSE
		GOTO INPUT_LOOP_1
ENDSELECT
PRINTL 
RESTART

@SCROLL, ARG
SIF ARG%3 == 0 && ARG != 0
	PRINTL 

