@COUNT_調教可能キャラ
VARSET LOCAL
FOR LOCAL, 0, CHARANUM
	SIF LOCAL == MASTER
		CONTINUE
	SIF CFLAG:LOCAL:21
		CONTINUE
	SIF CFLAG:LOCAL:勧誘状況 != -1
		CONTINUE
	SIF MARK:LOCAL:90 || TALENT:LOCAL:育児中
		CONTINUE
	LOCAL:1 ++
NEXT
RETURN LOCAL:1


@SHOP_COMABLE101
RESULTS = Pランク昇格
RETURN 1


@SHOP_COMABLE102
RESULTS = ユニット編成
RETURN 1

@SHOP_COMABLE103
RESULTS = ショッピング
RETURN 1

@SHOP_COMABLE104
CALL COUNT_調教可能キャラ
RESULTS = 特技使用
SIF RESULT > 0
	RETURN 1
RETURN -2

@SHOP_COMABLE105
CALL COUNT_調教可能キャラ
RESULTS = 装備変更
SIF RESULT > 0
	RETURN 1
RETURN -2

@SHOP_COMABLE106
RESULTS = アイテム
RETURN 1

@SHOP_COMABLE107
RESULTS = 給料
RETURN -1

@SHOP_COMABLE108
;別れているキャラ数の確認
;現助手＋元助手のキャラ数の確認
VARSET LOCAL
	RESULTS = 助手交代
FOR LOCAL, 0, CHARANUM
	SIF CFLAG:LOCAL:勧誘状況 != -1 || LOCAL == MASTER || LOCAL == TARGET
		CONTINUE
	IF TARGET > 0
		SIF CFLAG:LOCAL:1 == 2 || RELATION:LOCAL:TARGET >= 120
			LOCAL:1 ++
	ELSE
		SIF CFLAG:LOCAL:1 == 2
			LOCAL:1 ++
	ENDIF
NEXT
SIF LOCAL:1 > 0
	RETURN 1
RETURN -2

@SHOP_COMABLE109
VARSET LOCAL
RESULTS = 解雇
FOR LOCAL, 0, CHARANUM
	SIF LOCAL == MASTER
		CONTINUE
	SIF CFLAG:LOCAL:勧誘状況 != -1
		CONTINUE
	SIF CFLAG:LOCAL:21
		CONTINUE
	SIF (TALENT:LOCAL:妊娠 || TALENT:LOCAL:育児中) && CFLAG:LOCAL:111 == MASTER
		CONTINUE
	SIF LOCAL == FLAG:リーダー || LOCAL == FLAG:メンバー2 || LOCAL == FLAG:メンバー3 || LOCAL == FLAG:メンバー4 || LOCAL == FLAG:メンバー5
		CONTINUE
	LOCAL:1++
NEXT
SIF LOCAL:1 > 0
	RETURN 1
RETURN -2

@SHOP_COMABLE110
VARSET LOCAL
RESULTS = 控え中行動指示
CALL COUNT_調教可能キャラ
SIF RESULT > 1
	RETURN 1
RETURN -2

@SHOP_COMABLE111
RESULTS = ステータス
RETURN 1


@SHOP_COMABLE112
RESULTS = 能力値上昇
RETURN 1

@SHOP_COMABLE113
RESULTS = 長期休暇
RETURN -1

@SHOP_COMABLE114
RESULTS = 預り所
CALL COUNT_調教可能キャラ
SIF RESULT - ユニット人数() > 0
	RETURN 1
RETURN -2



;@SHOP_COMABLE115
;RESULTS = 
;RETURN 1

@SHOP_COMABLE116
RESULTS = どっとっぷＴＶ
SIF FLAG:CD発売許可
	RETURN 1
RETURN -2

;@SHOP_COMABLE117
;RESULTS = 
;RETURN 1

;@SHOP_COMABLE118
;RESULTS = 
;RETURN 1

;@SHOP_COMABLE119
;RESULTS = 装備変更
;RETURN 1


@SHOP_COMABLE120
RESULTS = ダウンロードコンテンツ
RETURN -1

@SHOP_COMABLE121
RESULTS = 探索
IF !FLAG:ダンジョン探索済み
	RETURN 1
ENDIF
RETURN -2

;@SHOP_COMABLE122
;RESULTS = 闘技場
;RETURN 1


@SHOP_COMABLE160
;F:1は小物入れを見るの条件等で使用
VARSET LOCAL
	RESULTS = 小物入れを見る
FOR LOCAL, 0, CHARANUM
	SIF LOCAL == MASTER || CFLAG:LOCAL:勧誘状況 != -1
		CONTINUE
	;主人公用アクセサリを持っているか否か
	SIF CFLAG:LOCAL:アクセサリープレゼント数 > 0
		LOCAL:1++
NEXT
SIF LOCAL:1 > 0 && GETBIT(FLAG:62, 2)
	RETURN 1
RETURN -1

@SHOP_COMABLE170
RESULTS = 育児室に行く
SIF GETBIT(FLAG:62, 0) && FLAG:97
	RETURN 1
RETURN -1

@SHOP_COMABLE180
RESULTS = 強くてニューゲーム
RETURN -1


@SHOP_COMABLE190
RESULTS = アイドル名鑑
RETURN 1
;@SHOP_COMABLE127
;@SHOP_COMABLE128

