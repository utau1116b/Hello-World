;ARG:0	行動対象
@PRINT_LIVE_COMMAND(ARG:0, ARG:2)
LOCAL = 10
LOCAL:1 = 0
ARG:2 = 1
REDRAW 0
PRINTL 
$REPEAT_LOOP
CLEARLINE 1


GETFONT
CHKFONT "NSimSun"
SIF RESULT
	SETFONT "NSimSun"


;色の減算は16進数を割ってマイナスしていく

;LOCAL:2 -= 256*40 + 40 - 65536*12
IF BASE:(ARG:0):ボルテージ >= 100
LOCAL:2 =  0x000000 + 65536*7*LOCAL + 256*7*LOCAL + 1*7*LOCAL + 10 * (ARG:2)
	SIF ARG:2 == 1 && (LOCAL:1) == 0 && (LOCAL == 26 || LOCAL == 31)
		LOCAL:2 -= 256*20 + 20 - 65536*20
	SIF ARG:2 == 1 && LOCAL == 34 || ((LOCAL:1) == 0 && (LOCAL > 26 && LOCAL < 29 || LOCAL > 31 && LOCAL < 35))
		LOCAL:2 -= 256*40 + 40 - 65536*12
	SETCOLOR LOCAL:2


SETCOLOR LOCAL:2
LOCALS = [ＢＡ]%UNICODE(0x2196)%
PRINTBUTTON LOCALS, 101
RESETCOLOR
ELSE
PRINTFORM         
ENDIF


PRINTFORM 　
;PRINTFORM           

CALL SET_COLOR(2)
PRINTBUTTON  "[Ｖｉ]↑", 8
RESETCOLOR
;CALL SHOW_RATE_VI
PRINTFORM 　



IF BASE:(ARG:0):ボルテージ >= 300
	LOCAL:2 =  0x000000 + 65536*7*LOCAL + 256*7*LOCAL + 1*7*LOCAL + 10 * (ARG:2)
	SIF ARG:2 == 1 && (LOCAL:1) == 0 && (LOCAL == 26 || LOCAL == 31)
		LOCAL:2 -= 256*20 + 20 - 65536*20
	SIF ARG:2 == 1 && LOCAL == 34 || ((LOCAL:1) == 0 && (LOCAL > 26 && LOCAL < 29 || LOCAL > 31 && LOCAL < 35))
		LOCAL:2 -= 256*40 + 40 - 65536*12
SETCOLOR LOCAL:2
LOCALS = [ＭＡ]%UNICODE(0x2197)%
PRINTBUTTON  LOCALS, 100
RESETCOLOR
ELSE
PRINTFORM         
ENDIF
;PRINTL
;PRINTFORM  　　　　　　　　  
;CALL SHOW_RATE_VI


PRINTFORM           
LOCALS = [アイテム]
PRINTBUTTON LOCALS, 4
PRINTFORM   
LOCALS = [逃げる]
PRINTBUTTON LOCALS, 7
PRINTFORM   
LOCALS = [アイドルにお任せ]
PRINTBUTTON LOCALS, 999

PRINTL
PRINTFORM            
CALL SHOW_RATE_VI
PRINTL
CALL SET_COLOR(3)
PRINTBUTTON "[Ｄａ]←", 9
RESETCOLOR
PRINTFORM   
PRINTBUTTON "[ 特技 ]", 2
PRINTFORM   
CALL SET_COLOR(1)
PRINTBUTTON "[Ｖｏ]→", 1
RESETCOLOR

PRINTFORM           
LOCALS = [待機]
PRINTBUTTON LOCALS, 5

PRINTL
PRINTFORM  
CALL SHOW_RATE_DA
PRINTFORM               
CALL SHOW_RATE_VO
PRINTL 
PRINTFORM           
PRINTBUTTON "[ガード]↓", 3


PRINTFORM          
PRINTFORM          
LOCALS = [ステータス]
PRINTBUTTON LOCALS, 6



PRINTL 
SETFONT RESULTS


IF (LOCAL:1) == 0
	LOCAL += 1
	SIF LOCAL == 34
		LOCAL:1 = 1
ELSEIF (LOCAL:1) == 1
	LOCAL -= 1
	SIF LOCAL == 0
		LOCAL:1 = 0
ENDIF
TINPUT 50, -999, 0
CLEARLINE 6
SIF RESULT == -999
	GOTO REPEAT_LOOP
;$REPEAT_END
RETURN RESULT
