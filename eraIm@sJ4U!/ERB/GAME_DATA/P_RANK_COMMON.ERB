@PRODUCE_MENU

DRAWLINE
PRINTFORML 何をしますか？
DRAWLINE
PRINTFORM □
PRINTFORML プロデュース状況
PRINTFORM   Pランク   　　　　：ランク 
SIF ABL:MASTER:Pランク == 0
	PRINTFORML Ⅰ
SIF ABL:MASTER:Pランク == 1
	PRINTFORML Ⅱ
SIF ABL:MASTER:Pランク == 2
	PRINTFORML Ⅲ
SIF ABL:MASTER:Pランク == 3
	PRINTFORML Ⅳ
SIF ABL:MASTER:Pランク == 4
	PRINTFORML Ⅴ
SIF ABL:MASTER:Pランク == 5
	PRINTFORML Ⅵ
SIF ABL:MASTER:Pランク == 6
	PRINTFORML Ⅶ
SIF ABL:MASTER:Pランク == 7
	PRINTFORML Ⅷ
SIF ABL:MASTER:Pランク == 8
	PRINTFORML Ⅸ
SIF ABL:MASTER:Pランク == 9
	PRINTFORML Ⅹ
SIF ABL:MASTER:Pランク == 10
	PRINTFORML ⅩⅠ
SIF ABL:MASTER:Pランク == 11
	PRINTFORML ⅩⅡ
	
PRINTFORML   総計ポイント　　　：{EXP:MASTER:開発Pt総計}Pt
PRINTFORM   次のランクまで　　：
LOCAL:0 = (PP_PER_RANK() - EXP:MASTER:開発Pt総計)
SIF LOCAL:0 <= 0
	LOCAL:0 = 0
PRINTFORML {LOCAL:0}Pt

DRAWLINE

PRINTFORML [1] 活動報告(条件を満たしているとPランクが上がります)
PRINTFORML [2] 施設拡張(Ptを消費して施設を拡張・建設します)
PRINTFORML [100]戻る
$INPUT_LOOP
INPUT
IF RESULT == 100
	RETURN
ELSEIF RESULT == 1 && LOCAL:0 == 0
	CALL P_RANK_UP
ELSEIF RESULT == 1 && LOCAL:0 > 0
	REUSELASTLINE Ptが足りません
	GOTO INPUT_LOOP
ELSEIF RESULT == 2
	CALL HOME_EXTEND
ENDIF
RESTART

;プロデューサーランクアップ
@P_RANK_UP
PRINTFORMW 『プロデュース活動は順調に進んでいるようだね』
PRINTFORML 『君たちの活躍を受け』
PRINTFORMW 『プロデューサーランクが上がったぞ！』
DRAWLINE
PRINTL
PRINTL


ALIGNMENT CENTER
FONTSTYLE 4
PRINTFORM 現在のランク
CALL PRINT_P_RANK(ABL:MASTER:Pランク)
FONTSTYLE 0
PRINTL
PRINTL
FONTBOLD

ALIGNMENT LEFT
REPEAT 3
	CALL SET_COLOR(11 + COUNT)
	PRINTL 　　　　　　　　　　　☆　　　　　　ランクアップ！　　　　　　☆
	TWAIT 100,0
	CLEARLINE 1
	CALL SET_COLOR(12 + COUNT)
	PRINTL 　　　　　　　　　　　　☆　　　　　ランクアップ！　　　　　☆
	TWAIT 100,0
	CLEARLINE 1
	CALL SET_COLOR(13 + COUNT)
	PRINTL 　　　　　　　　　　　　　☆　　　　ランクアップ！　　　　☆
	TWAIT 100,0
	CLEARLINE 1
	CALL SET_COLOR(14 + COUNT)
	PRINTL 　　　　　　　　　　　　　　☆　　　ランクアップ！　　　☆
	TWAIT 100,0
	CLEARLINE 1
	CALL SET_COLOR(15 + COUNT)
	PRINTL 　　　　　　　　　　　　　　　☆　　ランクアップ！　　☆
	TWAIT 100,0
	CLEARLINE 1
	CALL SET_COLOR(16 + COUNT)
	PRINTL 　　　　　　　　　　　　　　　　☆　ランクアップ！　☆
	TWAIT 100,0
	CLEARLINE 1
;REND
;REPEAT 10
	CALL SET_COLOR(17 + COUNT)
	PRINTL 　　　　　　　　　　　　　　　　☆　ランクアップ！　☆
	TWAIT 100,0
	CLEARLINE 1
	CALL SET_COLOR(18 + COUNT)
	PRINTL 　　　　　　　　　　　　　　　☆　　ランクアップ！　　☆
	TWAIT 100,0
	CLEARLINE 1
	CALL SET_COLOR(19 + COUNT)
	PRINTL 　　　　　　　　　　　　　　☆　　　ランクアップ！　　　☆
	TWAIT 100,0
	CLEARLINE 1
	CALL SET_COLOR(20 + COUNT)
	PRINTL 　　　　　　　　　　　　　☆　　　　ランクアップ！　　　　☆
	TWAIT 100,0
	CLEARLINE 1
	CALL SET_COLOR(21 + COUNT)
	PRINTL 　　　　　　　　　　　　☆　　　　　ランクアップ！　　　　　☆
	TWAIT 100,0
	CLEARLINE 1
	CALL SET_COLOR(22 + COUNT)
	PRINTL 　　　　　　　　　　　☆　　　　　　ランクアップ！　　　　　　☆
	TWAIT 100,0
	CLEARLINE 1
REND
RESETCOLOR
ALIGNMENT CENTER
PRINTFORMW ランクアップ！
FONTREGULAR
PRINTL
PRINTL
ABL:MASTER:Pランク += 1
PRINTFORM プロデューサーランクが
CALL PRINT_P_RANK(ABL:MASTER:Pランク)
PRINT になりました！
PRINTFORMW 
PRINTL
PRINTFORMW 『これからもその調子で頑張ってくれたまえ』
ALIGNMENT LEFT
PRINTL
PRINTL
RETURN

@PRINT_P_RANK(ARG:0)
;ARG:0	現在のプロデューサーランク
SIF ABL:MASTER:Pランク == 0
	PRINTFORM Ⅰ
SIF ABL:MASTER:Pランク == 1
	PRINTFORM Ⅱ
SIF ABL:MASTER:Pランク == 2
	PRINTFORM Ⅲ
SIF ABL:MASTER:Pランク == 3
	PRINTFORM Ⅳ
SIF ABL:MASTER:Pランク == 4
	PRINTFORM Ⅴ
SIF ABL:MASTER:Pランク == 5
	PRINTFORM Ⅵ
SIF ABL:MASTER:Pランク == 6
	PRINTFORM Ⅶ
SIF ABL:MASTER:Pランク == 7
	PRINTFORM Ⅷ
SIF ABL:MASTER:Pランク == 8
	PRINTFORM Ⅸ
SIF ABL:MASTER:Pランク == 9
	PRINTFORM Ⅹ
SIF ABL:MASTER:Pランク == 10
	PRINTFORM ⅩⅠ
SIF ABL:MASTER:Pランク == 11
	PRINTFORM ⅩⅡ

@PP_PER_RANK
#FUNCTION
SELECTCASE ABL:MASTER:Pランク
	CASE 0
		RETURNF 80
	CASE 1
		RETURNF 250
	CASE 2
		RETURNF 500
	CASE 3
		RETURNF 750
	CASE 4
		RETURNF 1000
	CASE 5
		RETURNF 1300
	CASE 6
		RETURNF 1650
	CASE 7
		RETURNF 2000
	CASE 8
		RETURNF 2600
	CASE 9
		RETURNF 3200
	CASE 10
		RETURNF 3800
	CASEELSE
		RETURNF 9999
ENDSELECT

@CAN_PRANK_UP
#FUNCTION
#LOCALSIZE 1
LOCAL = (PP_PER_RANK() - EXP:MASTER:開発Pt総計)
SIF LOCAL <= 0
	LOCAL = 0
SIF !LOCAL
	RETURNF 1
RETURNF 0

