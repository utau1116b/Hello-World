@アイドル名鑑
VARSET LOCAL
DO
	REDRAW 0
	CALL SAVELINE
	SIF TFLAG:100 == 0
		TFLAG:100 = 0
	CALL キャラ表示_アイドル名鑑
	PRINTL 
	PRINTFORML [0]戻る
	INPUT
	LOCAL = RESULT
	SELECTCASE RESULT
		CASE 0
			BREAK
		CASE 1001
			TFLAG:100--
			IF TFLAG:100 < 0
				TFLAG:100 = 0
			ELSE
				CALL SEPLAY(16)
			ENDIF
		CASE 1003
			TFLAG:100++
			IF TFLAG:100 >= 4
				TFLAG:100 = 3
			ELSE
				CALL SEPLAY(16)
			ENDIF
		CASEELSE
			IF RANGE(LOCAL-89,11,11+FLAG:キャラ数)
				IF CFLAG:(LOCAL-89):勧誘状況 == -1
					CALL SEPLAY(16)
					DO
						CALL CHARA_MANUAL(LOCAL)
						DRAWLINE
						;PRINTFORMLC [100]キャラクター紹介
						PRINTFORMLC [101]外見を見る
						PRINTFORMLC [102]能力適正を見る
						PRINTL 
						PRINTL 
						PRINTFORMLC [200]戻る
						INPUT
						LOCAL:1 = RESULT
						SELECTCASE RESULT
							CASE 100
								CALL SEPLAY(16)
								CALL CHARA_MANUAL(LOCAL)
							CASE 101
							CALL SEPLAY(16)
								CALL SHOW_CHARA_LOOKS(LOCAL-89)
							CASE 102
							CALL SEPLAY(16)
								CALL SHOW_CHARA_DUNAMIS(LOCAL-89)
							CASE 200
								BREAK
							CASEELSE
								CONTINUE
						ENDSELECT
						WAIT
					LOOP 1
				ENDIF
			ENDIF
	ENDSELECT
	CALL RETURNLINE
LOOP 1
CALL RETURNLINE
RETURN 0
@キャラ表示_アイドル名鑑
VARSET LOCAL
LOCAL:1 = 0
FOR LOCAL, 11,  (FLAG:キャラ数 + 11)

	SIF LOCAL > (30 + (30 * TFLAG:100)) || LOCAL <= (0 + (30 * TFLAG:100))
		CONTINUE
	;勧誘済みのキャラ
	IF CFLAG:LOCAL:勧誘状況 == -1
		RESULT = 0
		LOCALS = [{LOCAL+89, 3}]
		TRYCALLFORM KOJO_EXIST_K{LOCAL}
		SIF RESULT
			CALLFORM SET_COLOR(LOCAL)
		PRINTFORMLC  %LOCALS%%CALLNAME:LOCAL,10,LEFT% 
		RESETCOLOR
	ELSE
		LOCALS = [{LOCAL+89, 3}]
		SETCOLOR COLOR("light-gray")
		PRINTFORMLC  %LOCALS%%SAVESTR:199,10,LEFT% 
		RESETCOLOR
	ENDIF
	LOCAL:1 += 1
	IF LOCAL:1 % 3 == 0
		PRINTL 
	ELSE
		PRINT 　
	ENDIF
NEXT
SIF LOCAL:1 % 3 != 0
	PRINTL 
CALL PRINT_PAGESELECT(TFLAG:100, 3)
