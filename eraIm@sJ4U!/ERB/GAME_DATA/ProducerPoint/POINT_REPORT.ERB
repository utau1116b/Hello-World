@CHECK_POINT
VARSET LOCAL
;ポイント取得条件を満たしていればフラグを立てる
FOR LOCAL:100, 11, (11 + FLAG:キャラ数)
	IF CFLAG:(LOCAL:100):勧誘状況 == -1
		FOR LOCAL:101, 0, 25
			TRYCALLFORM PPGETTERM_{LOCAL:101}(LOCAL:100)
			IF RESULT == 1
				CALL SE("ポイントゲット")
				CALL SAVELINE
				CALL GET_POINT(LOCAL:100, LOCAL:101)
				CALL RETURNLINE
			ENDIF
		NEXT
	ENDIF
NEXT

;ARG:0	対象のキャラ登録番号
;ARG:1	取得できるポイントのフラグ
@GET_POINT(ARG:0, ARG:1)
;LOCAL:1	開拓番号
;
CUSTOMDRAWLINE =
CALL SET_COLOR("真美")
PRINTFORML 条件を達成しました
RESETCOLOR
;CUSTOMDRAWLINE =
;DRAWLINE
LOCAL:1 = ARG:1

IF LOCAL:1 == 0
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 5
	EXP:MASTER:開発Pt総計 += 5
	CFLAG:ARG:PP取得 |= 1p0
ELSEIF LOCAL:1 == 1
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 10
	EXP:MASTER:開発Pt総計 += 10
	CFLAG:ARG:PP取得 |= 1p1
ELSEIF LOCAL:1 == 2
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 15
	EXP:MASTER:開発Pt総計 += 15
	CFLAG:ARG:PP取得 |= 1p2
ELSEIF LOCAL:1 == 3
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 20
	EXP:MASTER:開発Pt総計 += 20
	CFLAG:ARG:PP取得 |= 1p3
ELSEIF LOCAL:1 == 4
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 25
	EXP:MASTER:開発Pt総計 += 25
	CFLAG:ARG:PP取得 |= 1p4
ELSEIF LOCAL:1 == 5
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 30
	EXP:MASTER:開発Pt総計 += 30
	CFLAG:ARG:PP取得 |= 1p5
ELSEIF LOCAL:1 == 6
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 50
	EXP:MASTER:開発Pt総計 += 50
	CFLAG:ARG:PP取得 |= 1p6
ELSEIF LOCAL:1 == 7
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 10
	EXP:MASTER:開発Pt総計 += 10
	CFLAG:ARG:PP取得 |= 1p7
ELSEIF LOCAL:1 == 8
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 20
	EXP:MASTER:開発Pt総計 += 20
	CFLAG:ARG:PP取得 |= 1p8
ELSEIF LOCAL:1 == 9
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 30
	EXP:MASTER:開発Pt総計 += 30
	CFLAG:ARG:PP取得 |= 1p9
ELSEIF LOCAL:1 == 10
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 50
	EXP:MASTER:開発Pt総計 += 50
	CFLAG:ARG:PP取得 |= 1p10
ELSEIF LOCAL:1 == 11
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 80
	EXP:MASTER:開発Pt総計 += 80
	CFLAG:ARG:PP取得 |= 1p11
ELSEIF LOCAL:1 == 12
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 200
	EXP:MASTER:開発Pt総計 += 200
	CFLAG:ARG:PP取得 |= 1p12
ELSEIF LOCAL:1 == 13
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 100
	EXP:MASTER:開発Pt総計 += 100
	CFLAG:ARG:PP取得 |= 1p13
ELSEIF LOCAL:1 == 14
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 5
	EXP:MASTER:開発Pt総計 += 5
	CFLAG:ARG:PP取得 |= 1p14
ELSEIF LOCAL:1 == 15
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 10
	EXP:MASTER:開発Pt総計 += 10
	CFLAG:ARG:PP取得 |= 1p15
ELSEIF LOCAL:1 == 16
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 5
	EXP:MASTER:開発Pt総計 += 5
	CFLAG:ARG:PP取得 |= 1p16
ELSEIF LOCAL:1 == 17
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 10
	EXP:MASTER:開発Pt総計 += 10
	CFLAG:ARG:PP取得 |= 1p17
ELSEIF LOCAL:1 == 18
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 20
	EXP:MASTER:開発Pt総計 += 20
	CFLAG:ARG:PP取得 |= 1p18
ELSEIF LOCAL:1 == 19
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 5
	EXP:MASTER:開発Pt総計 += 5
	CFLAG:ARG:PP取得 |= 1p19
ELSEIF LOCAL:1 == 20
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 10
	EXP:MASTER:開発Pt総計 += 10
	CFLAG:ARG:PP取得 |= 1p20
ELSEIF LOCAL:1 == 21
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 20
	EXP:MASTER:開発Pt総計 += 20
	CFLAG:ARG:PP取得 |= 1p21
ELSEIF LOCAL:1 == 22
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 5
	EXP:MASTER:開発Pt総計 += 5
	CFLAG:ARG:PP取得 |= 1p22
ELSEIF LOCAL:1 == 23
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 10
	EXP:MASTER:開発Pt総計 += 10
	CFLAG:ARG:PP取得 |= 1p23
ELSEIF LOCAL:1 == 24
	CALLFORM PPPRINT_{LOCAL:1}(ARG:0)
	EXP:MASTER:開発Pt += 20
	EXP:MASTER:開発Pt総計 += 20
	CFLAG:ARG:PP取得 |= 1p24
ELSE
	PRINTFORML エラー！不明な番号{LOCAL:1}が指定されました(GET_POINT)
ENDIF


;更にボーナス取得
IF LOCAL:1 == 0
	MAXBASE:(ARG:0):HP += 5
	BASE:(ARG:0):HP += 5
ELSEIF LOCAL:1 == 1
	MAXBASE:(ARG:0):MP += 5
	BASE:(ARG:0):MP += 5
ELSEIF LOCAL:1 == 2
	BASE:(ARG:0):ベースPOW += 2
ELSEIF LOCAL:1 == 3
	BASE:(ARG:0):ベースGUA += 2
ELSEIF LOCAL:1 == 4
	BASE:(ARG:0):ベースHIT += 2
	BASE:(ARG:0):ベースSPD += 2
ELSEIF LOCAL:1 == 5
	BASE:(ARG:0):ベースLUC += 2
ELSEIF LOCAL:1 == 6
	MAXBASE:(ARG:0):HP += 10
	BASE:(ARG:0):HP += 10
ELSEIF LOCAL:1 == 7
	MAXBASE:(ARG:0):MP += 5
	BASE:(ARG:0):MP += 5
ELSEIF LOCAL:1 == 8
	BASE:(ARG:0):ベースPOW += 3
ELSEIF LOCAL:1 == 9
	BASE:(ARG:0):ベースGUA += 3
ELSEIF LOCAL:1 == 10
	BASE:(ARG:0):ベースHIT += 3
	BASE:(ARG:0):ベースSPD += 3
ELSEIF LOCAL:1 == 11
	BASE:(ARG:0):ベースPOW += 3
	BASE:(ARG:0):ベースGUA += 3
	BASE:(ARG:0):ベースHIT += 3
	BASE:(ARG:0):ベースSPD += 3
	BASE:(ARG:0):ベースLUC += 3
	MAXBASE:(ARG:0):HP += 5
	BASE:(ARG:0):HP += 5
	MAXBASE:(ARG:0):MP += 5
	BASE:(ARG:0):MP += 5
ELSEIF LOCAL:1 == 12
	BASE:(ARG:0):ベースPOW += 3
	BASE:(ARG:0):ベースGUA += 3
	BASE:(ARG:0):ベースHIT += 3
	BASE:(ARG:0):ベースSPD += 3
	BASE:(ARG:0):ベースLUC += 3
	MAXBASE:(ARG:0):HP += 5
	BASE:(ARG:0):HP += 5
	MAXBASE:(ARG:0):MP += 5
	BASE:(ARG:0):MP += 5
	ABL:(ARG:0):歌唱適性 += 5
	ABL:(ARG:0):被写適性 += 5
	ABL:(ARG:0):舞踊適性 += 5
ELSEIF LOCAL:1 == 13
	ABL:(ARG:0):歌唱適性 += 5
	ABL:(ARG:0):被写適性 += 5
	ABL:(ARG:0):舞踊適性 += 5
ELSEIF LOCAL:1 == 14
	BASE:(ARG:0):ベースPOW += 1
	TALENT:(ARG:0):292 = 0
	TALENT:(ARG:0):293 = 1
ELSEIF LOCAL:1 == 15
	BASE:(ARG:0):VO耐性 += 10
	TALENT:(ARG:0):294 = 1
ELSEIF LOCAL:1 == 16
	ABL:(ARG:0):歌唱適性 += 5
ELSEIF LOCAL:1 == 17
	TALENT:(ARG:0):291 = 1
	BASE:(ARG:0):VO耐性 += 5
ELSEIF LOCAL:1 == 18
	ABL:(ARG:0):歌唱適性 += 10
	TALENT:(ARG:0):260 = 1
	BASE:(ARG:0):VO耐性 += 10
ELSEIF LOCAL:1 == 19
	ABL:(ARG:0):被写適性 += 5
ELSEIF LOCAL:1 == 20
	BASE:(ARG:0):DA耐性 += 5
ELSEIF LOCAL:1 == 21
	ABL:(ARG:0):被写適性 += 10
	TALENT:(ARG:0):261 = 1
	BASE:(ARG:0):DA耐性 += 10
ELSEIF LOCAL:1 == 22
	ABL:(ARG:0):舞踊適性 += 5
ELSEIF LOCAL:1 == 23
	BASE:(ARG:0):VI耐性 += 5
ELSEIF LOCAL:1 == 24
	ABL:(ARG:0):舞踊適性 += 10
	TALENT:(ARG:0):262 = 1
	BASE:(ARG:0):VI耐性 += 10
ENDIF

WAIT

@CHECK_PPBIT(ARG, ARG:1)
VARSET LOCAL
SELECTCASE ARG:1
	CASE 0
		IF CFLAG:ARG:PP取得 & 1p0
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 1
		IF CFLAG:ARG:PP取得 & 1p1
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 2
		IF CFLAG:ARG:PP取得 & 1p2
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 3
		IF CFLAG:ARG:PP取得 & 1p3
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 4
		IF CFLAG:ARG:PP取得 & 1p4
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 5
		IF CFLAG:ARG:PP取得 & 1p5
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 6
		IF CFLAG:ARG:PP取得 & 1p6
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 7
		IF CFLAG:ARG:PP取得 & 1p7
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 8
		IF CFLAG:ARG:PP取得 & 1p8
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 9
		IF CFLAG:ARG:PP取得 & 1p9
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 10
		IF CFLAG:ARG:PP取得 & 1p10
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 11
		IF CFLAG:ARG:PP取得 & 1p11
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 12
		IF CFLAG:ARG:PP取得 & 1p12
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 13
		IF CFLAG:ARG:PP取得 & 1p13
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 14
		IF CFLAG:ARG:PP取得 & 1p14
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 15
		IF CFLAG:ARG:PP取得 & 1p15
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 16
		IF CFLAG:ARG:PP取得 & 1p16
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 17
		IF CFLAG:ARG:PP取得 & 1p17
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 18
		IF CFLAG:ARG:PP取得 & 1p18
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 19
		IF CFLAG:ARG:PP取得 & 1p19
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 20
		IF CFLAG:ARG:PP取得 & 1p20
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 21
		IF CFLAG:ARG:PP取得 & 1p21
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 22
		IF CFLAG:ARG:PP取得 & 1p22
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 23
		IF CFLAG:ARG:PP取得 & 1p23
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 24
		IF CFLAG:ARG:PP取得 & 1p24
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 25
		IF CFLAG:ARG:PP取得 & 1p25
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 26
		IF CFLAG:ARG:PP取得 & 1p26
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 27
		IF CFLAG:ARG:PP取得 & 1p27
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 28
		IF CFLAG:ARG:PP取得 & 1p28
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASE 29
		IF CFLAG:ARG:PP取得 & 1p29
			LOCAL = 1
		ELSE
			LOCAL = 0
		ENDIF
	CASEELSE
		LOCAL = 0
ENDSELECT
RETURN LOCAL
;ARG:0対象キャラ登録番号
;せっかくなので称号のようにキャラごとに名前を変えたい
@IDOL_REPORT(ARG:0)
;LOCAL:0ループ用
;LOCAL:1-25条件解放フラグ
REPEAT 25
	CALL CHECK_PPBIT(ARG, COUNT)
	IF RESULT == 1
		SETCOLOR 0x333333
		TRYCALLFORM PPNAME_{COUNT}(ARG)
		PRINTFORMLC [{COUNT,2}] %TSTR%
		RESETCOLOR
		LOCAL:COUNT = 1
	ELSE
		TRYCALLFORM PPTERM_{COUNT}(ARG)
		IF RESULT == 1
			TRYCALLFORM PPNAME_{COUNT}(ARG)
			PRINTFORMLC [{COUNT,2}] %TSTR%
			RESETCOLOR
			LOCAL:COUNT = 1
		ELSE
			SETCOLOR 0x333333
			PRINTFORMLC [{COUNT,2}] ？？？
			RESETCOLOR
		ENDIF
	ENDIF
;	LOCAL:(COUNT) = 1
	;2列表示
	IF COUNT%2 == 1
		PRINTL 
	ENDIF
REND
PRINTL
DRAWLINE
PRINTL [100]戻る
$INPUT_CHARA_11
INPUT

IF RESULT == 100
	RETURN
ELSEIF RESULT >= 0 && RESULT < 25 && LOCAL:(RESULT) != 1
	REUSELASTLINE 入力値が不正です。再入力してください
	GOTO INPUT_CHARA_11
ELSEIF RESULT >= 0 && RESULT < 25 && LOCAL:(RESULT) == 1
	TRYCALLFORM PPPRINT_{RESULT}(ARG:0)
ELSE
	REUSELASTLINE 入力値が不正です。再入力して下さい
	GOTO INPUT_CHARA_11
ENDIF
RESTART
