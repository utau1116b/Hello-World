;ARG:0	地方 0首都 1北東 2中央 3上方 4西 5南
;イベントを選択できるのはスケジュール選択時だけなので
@PRINT_EVENT(ARG)
;まず最初にTSTRになにもない時のーーーを代入しておく
CALL PRINT_EVENT2
RETURN
;上記で仕事番号とそれにかかるコストを取得する
;そしたらそれを下の関数で書きだしてリターン
;ARG:0 仕事番号
@PRINT_EVENT2
;この関数で、仕事番号によって、コスト、名前をプリント
FLAG:イベント判定 = 1
;SIF J == 0
CALL SEARCH_SCENARIO_ABLE(TARGET)
;既にシナリオを選んでいる
IF FLAG:午前の予定 == 150|| FLAG:午後の予定 == 150 || FLAG:午前の予定2 == 150|| FLAG:午後の予定2 == 150
		SETCOLOR COLOR("light-gray")
		TRYCALLFORM KOJO_EVENT_NAME_{TARGET}_{J}
		PRINTFORM [Ｓ]
		PRINTFORM %TSTR,24,LEFT%
		RESETCOLOR
		PRINTFORM  
		CALL PRINT_COST_TIME(0,3)
		PRINTFORM  
		CALL GET_COST_MONEY(0)
		PRINTFORM {RESULT,7,LEFT}
ELSE
	IF SCENARIO <= 0
		SETCOLOR COLOR("light-gray")
		PRINTFORM [？]
		TSTR = EMPTY
		PRINTFORM %TSTR,24,LEFT%
		PRINTFORM  
		RESETCOLOR
		CALL PRINT_COST_TIME(0,3)
		PRINTFORM  
		CALL GET_COST_MONEY(0)
		PRINTFORM {RESULT,7,LEFT}
	ELSEIF SCENARIO > 0 && FLAG:24 != 0
		TRYCALLFORM KOJO_EVENT_NAME_{TARGET}_{SCENARIO}
		LOCALS = [Ｓ]%TSTR,24,LEFT%
		PRINTBUTTON LOCALS, 150
		;PRINTFORM %TSTR,24,LEFT%
		PRINTFORM  
		CALL PRINT_COST_TIME(0,3)
		PRINTFORM  
		CALL GET_COST_MONEY(0)
		PRINTFORM {RESULT,7,LEFT}
	ELSE
		SETCOLOR COLOR("light-gray")
		PRINTFORM [？]
		TSTR = EMPTY
		PRINTFORM %TSTR,24,LEFT%
		PRINTFORM  
		RESETCOLOR
		CALL PRINT_COST_TIME(0,3)
		PRINTFORM  
		CALL GET_COST_MONEY(0)
		PRINTFORM {RESULT,7,LEFT}
	ENDIF
ENDIF

;コンフィグで色々調整する部分
@SCENARIO_ABLE_COMMON(ARG)

;実行できるスキットを検索
;更新はSHOPが呼び出される瞬間
;ARG ターゲットのキャラ登録番号
@SEARCH_SCENARIO_ABLE(ARG)

VARSET LOCAL:1
VARSET SCENARIO
FOR LOCAL, 0, 1000
	TRYCALLFORM KOJO_EVENT_ABLE_{ARG}_{LOCAL}
	IF RESULT
		;PRINTFORML J:{J:(LOCAL:1)} = {LOCAL:0}
		SCENARIO:(LOCAL:1) = LOCAL:0
		LOCAL:1 += 1
		RESULT = 0
	ENDIF
NEXT

;シナリオS サブイベントはE  アフターコミュはA スキットはK

;可能なスキットがあれば、スキットのタイトルを枠外に表示
@SCENARIO
IF FIRSTTIME(SCENARIO)
	CALLFORM KOJO_EVENT_SETUP_{FLAG:イベント用ターゲット一時保存}_{SCENARIO}
	SIF RESULT:1
		FLAG:口上文字色使用 = 1
	SIF FLAG:口上文字色使用 == 1
		CALL SET_COLOR(FLAG:イベント用ターゲット一時保存)
	CALLFORM KOJO_EVENT_K{FLAG:イベント用ターゲット一時保存}_{SCENARIO}
	RESETCOLOR
	ARRAYSHIFT SCENARIO, -1, 0
	FLAG:口上文字色使用 = 0
ENDIF
;CALLFORM KOJO_EVENT_NAME_{ARG}_{J}
;IF J > 0
;	TSTR =[シ]%TSTR%
;	PRINTBUTTONLC TSTR , 150
;ENDIF
