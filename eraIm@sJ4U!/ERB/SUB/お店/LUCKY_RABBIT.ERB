;ラッキーラビット処理
@LUCKY_RABBIT
DRAWLINE
PRINTFORML 『いらっしゃーい♪』
PRINTFORML 『何か買っていかれませんか？？』
DRAWLINE
PRINTBUTTON "[1][ステージ衣装を見る]" , 1
PRINT 　　　
PRINTBUTTON "[2][アクセサリーを見る]" , 2
PRINTL
PRINTL 
PRINTBUTTON "[0][戻る]" , 0
$INPUT_LOOP
INPUT
IF RESULT == 0
	RETURN
ELSEIF RESULT == 1
	CALL LUCKY_RABBIT_CLOTH
ELSEIF RESULT == 2
	REUSELASTLINE 未実装です
	GOTO INPUT_LOOP
ELSE
	REUSELASTLINE 入力値が不正です。再入力して下さい
	GOTO INPUT_LOOP
ENDIF
RESTART
@LUCKY_RABBIT_CLOTH
;LOCAL
;0		LOOP
;1-14	LV1 ITEM在庫
;15		日替わり衣装の値段
;16		値段倍率
;17		アイテム袋拡張の値段
;21-30	LV2 ITEM在庫
;31-40	LV3 ITEM在庫
;50		入店時の所持金
VARSET LOCAL
;お店ランク1のラインナップチェック
LOCAL:1 = !ITEM:606
LOCAL:2 = !ITEM:607
LOCAL:3 = !ITEM:705
LOCAL:4 = !ITEM:706
LOCAL:5 = !ITEM:806
LOCAL:6 = !ITEM:809
LOCAL:7 = !ITEM:901
;LUCKY RABBITLv2以上
LOCAL:21 = !ITEM:608
LOCAL:22 = !ITEM:613
LOCAL:23 = !ITEM:711
LOCAL:24 = !ITEM:713
LOCAL:25 = !ITEM:808
LOCAL:26 = !ITEM:813
LOCAL:27 = !ITEM:910
;LUCKY RABBITLv3以上
LOCAL:31 = !ITEM:618
LOCAL:32 = !ITEM:622
LOCAL:33 = !ITEM:717
LOCAL:34 = !ITEM:721
LOCAL:35 = !ITEM:816
LOCAL:36 = !ITEM:820
LOCAL:37 = !ITEM:918
FOR LOCAL, 1, 40
	LOCAL:LOCAL = 1
NEXT


;割引率計算
CALL GET_SALE_RATE
LOCAL:16 = RESULT

;入店時所持金記憶
LOCAL:50 = MONEY:0

$LUCKY_START

DRAWLINE
PRINTFORML 　LUCKY RABBIT   所持金 %ADD_COMMA(MONEY:0)%Ｇ
DRAWLINE
PRINTFORML どうしますか？
;とりあえずレベル１のみ

IF LOCAL:1
	PRINTFORM [  1] %ITEMNAME:606, 25, LEFT% (%ADD_COMMA(6000 * LOCAL:16 / 100), 7%Ｇ) 
	;CALL POW_606
	;PRINTFORM POW +{RESULT / 100, 2}　
	;CALL GUA_606
	;PRINTFORM GUA +{RESULT / 100, 2}　
	;CALL SPD_606
	;PRINTFORM SPD +{RESULT / 100, 2}　
	CALL VO_606
	LOCALS = VO +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
	CALL VI_606
	LOCALS = VI +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
	CALL DA_606
	LOCALS = DA +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
	PRINTL 
ENDIF
IF LOCAL:2
	PRINTFORM [  2] %ITEMNAME:607, 25, LEFT% (%ADD_COMMA(5000 * LOCAL:16 / 100), 7%Ｇ) 
	CALL VO_607
	LOCALS = VO +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
	CALL VI_607
	LOCALS = VI +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
	CALL DA_607
	LOCALS = DA +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
	PRINTL 
ENDIF
IF LOCAL:3
	PRINTFORM [  3] %ITEMNAME:705, 25, LEFT% (%ADD_COMMA(5000 * LOCAL:16 / 100), 7%Ｇ) 
	CALL VO_705
	LOCALS = VO +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
	CALL VI_705
	LOCALS = VI +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
	CALL DA_705
	LOCALS = DA +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
	PRINTL 
ENDIF
IF LOCAL:4
	PRINTFORM [  4] %ITEMNAME:706, 25, LEFT% (%ADD_COMMA(6500 * LOCAL:16 / 100), 7%Ｇ) 
	CALL VO_706
	LOCALS = VO +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
	CALL VI_706
	LOCALS = VI +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
	CALL DA_706
	LOCALS = DA +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
	PRINTL 
ENDIF
IF LOCAL:5
	PRINTFORM [  5] %ITEMNAME:806, 25, LEFT% (%ADD_COMMA(5500 * LOCAL:16 / 100), 7%Ｇ) 
	CALL VO_806
	LOCALS = VO +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
	CALL VI_806
	LOCALS = VI +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
	CALL DA_806
	LOCALS = DA +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
	PRINTL 
ENDIF
IF LOCAL:6
	PRINTFORM [  6] %ITEMNAME:809, 25, LEFT% (%ADD_COMMA(7500 * LOCAL:16 / 100), 7%Ｇ) 
	CALL VO_809
	LOCALS = VO +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
	CALL VI_809
	LOCALS = VI +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
	CALL DA_809
	LOCALS = DA +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
	PRINTL 
ENDIF
IF LOCAL:7
	PRINTFORM [  7] %ITEMNAME:901, 25, LEFT% (%ADD_COMMA(12000 * LOCAL:16 / 100), 7%Ｇ) 
	CALL VO_901
	LOCALS = VO +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
	CALL VI_901
	LOCALS = VI +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
	CALL DA_901
	LOCALS = DA +{RESULT / 100, 2}　
	CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
	PRINTL 
ENDIF
	
IF FLAG:LUCKY_RABBIT == 1
	IF LOCAL:21
		PRINTFORM [ 21] %ITEMNAME:608, 25, LEFT% (%ADD_COMMA(12000 * LOCAL:16 / 100), 7%Ｇ) 
		CALL VO_608
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_608
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_608
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
	IF LOCAL:22
		PRINTFORM [ 22] %ITEMNAME:613, 25, LEFT% (%ADD_COMMA(15000 * LOCAL:16 / 100), 7%Ｇ) POW +30　GUA +15　SPD +20
		CALL VO_613
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_613
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_613
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
	IF LOCAL:23
		PRINTFORM [ 23] %ITEMNAME:711, 25, LEFT% (%ADD_COMMA(15000 * LOCAL:16 / 100), 7%Ｇ) POW +20　GUA + 8　SPD +24
		CALL VO_711
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_711
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_711
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
	IF LOCAL:24
		PRINTFORM [ 24] %ITEMNAME:713, 25, LEFT% (%ADD_COMMA(16500 * LOCAL:16 / 100), 7%Ｇ) POW +15　GUA +20　SPD +30
		CALL VO_713
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_713
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_713
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
	IF LOCAL:25
		PRINTFORM [ 25] %ITEMNAME:808, 25, LEFT% (%ADD_COMMA(15500 * LOCAL:16 / 100), 7%Ｇ) POW +20　GUA +24　SPD +8
		CALL VO_808
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_808
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_808
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
	IF LOCAL:26
		PRINTFORM [ 26] %ITEMNAME:813, 25, LEFT% (%ADD_COMMA(17500 * LOCAL:16 / 100), 7%Ｇ) POW +20　GUA +30　SPD +15
		CALL VO_813
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_813
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_813
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
	IF LOCAL:27
		PRINTFORM [ 27] %ITEMNAME:910, 25, LEFT% (%ADD_COMMA(22000 * LOCAL:16 / 100), 7%Ｇ) POW +15　GUA +30　SPD +10
		CALL VO_910
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_910
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_910
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
ENDIF

IF FLAG:LUCKY_RABBIT拡張 == 1
	IF LOCAL:31
		PRINTFORM [ 31] %ITEMNAME:618, 25, LEFT% (%ADD_COMMA(26000 * LOCAL:16 / 100), 7%Ｇ) POW +36　GUA +24　SPD +18
		CALL VO_618
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_618
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_618
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
	IF LOCAL:32
		PRINTFORM [ 32] %ITEMNAME:622, 25, LEFT% (%ADD_COMMA(25000 * LOCAL:16 / 100), 7%Ｇ) POW +42　GUA +35　SPD +14
		CALL VO_622
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_622
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_622
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
	IF LOCAL:33
		PRINTFORM [ 33] %ITEMNAME:717, 25, LEFT% (%ADD_COMMA(25000 * LOCAL:16 / 100), 7%Ｇ) POW +24　GUA +18　SPD +36
		CALL VO_717
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_717
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_717
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
	IF LOCAL:34
		PRINTFORM [ 34] %ITEMNAME:721, 25, LEFT% (%ADD_COMMA(26500 * LOCAL:16 / 100), 7%Ｇ) POW +28　GUA +21　SPD +42
		CALL VO_721
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_721
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_721
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
	IF LOCAL:35
		PRINTFORM [ 35] %ITEMNAME:816, 25, LEFT% (%ADD_COMMA(25500 * LOCAL:16 / 100), 7%Ｇ) POW +18　GUA +36　SPD +24
		CALL VO_816
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_816
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_816
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
	IF LOCAL:36
		PRINTFORM [ 36] %ITEMNAME:820, 25, LEFT% (%ADD_COMMA(27500 * LOCAL:16 / 100), 7%Ｇ) POW +21　GUA +42　SPD +28
		CALL VO_820
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_820
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_820
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
	IF LOCAL:37
		PRINTFORM [ 37] %ITEMNAME:918, 25, LEFT% (%ADD_COMMA(32000 * LOCAL:16 / 100), 7%Ｇ) POW +45　GUA +36　SPD +72
		CALL VO_918
		LOCALS = VO +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ボーカル"), LOCALS)
		CALL VI_918
		LOCALS = VI +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ビジュアル"), LOCALS)
		CALL DA_918
		LOCALS = DA +{RESULT / 100, 2}　
		CALLFORM PRINTCOLOR(SET_COLOR_FUNC("ダンス"), LOCALS)
		PRINTL 
	ENDIF
ENDIF
PRINTFORML [ 0] 戻る

$INPUT_LOOP
INPUT
IF RESULT == 0
	RETURN
ELSEIF RESULT > 0 && RESULT < 8 && LOCAL:(RESULT)
	
	IF RESULT <= 1
		IF MONEY:0 < (6000 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (6000 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:606%を購入しました！
			CALL GET_ITEM(606)
		ENDIF
	ELSEIF RESULT <= 2
		IF MONEY:0 < (5000 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (5000 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:607%を購入しました！
			CALL GET_ITEM(607)
		ENDIF
	ELSEIF RESULT <= 3
		IF MONEY:0 < (5000 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (5000 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:705%を購入しました！
			CALL GET_ITEM(705)
		ENDIF
	ELSEIF RESULT <= 4
		IF MONEY:0 < (6500 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (6500 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:706%を購入しました！
			CALL GET_ITEM(706)
		ENDIF
	ELSEIF RESULT <= 5
		IF MONEY:0 < (5500 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (5500 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:806%を購入しました！
			CALL GET_ITEM(806)
		ENDIF
	ELSEIF RESULT <= 6
		IF MONEY:0 < (7500 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (7500 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:809%を購入しました！
			CALL GET_ITEM(809)
		ENDIF
	ELSEIF RESULT <= 7
		IF MONEY:0 < (12000 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (12000 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:901%を購入しました！
			CALL GET_ITEM(901)
		ENDIF
	ENDIF

ELSEIF RESULT > 20 && RESULT < 28 && LOCAL:(RESULT)
	
	IF RESULT <= 21
		IF MONEY:0 < (16000 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (16000 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:608%を購入しました！
			CALL GET_ITEM(608)
		ENDIF
	ELSEIF RESULT <= 22
		IF MONEY:0 < (15000 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (15000 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:613%を購入しました！
			CALL GET_ITEM(613)
		ENDIF
	ELSEIF RESULT <= 23
		IF MONEY:0 < (115000 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (15000 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:711%を購入しました！
			CALL GET_ITEM(711)
		ENDIF
	ELSEIF RESULT <= 24
		IF MONEY:0 < (16500 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (16500 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:713%を購入しました！
			CALL GET_ITEM(713)
		ENDIF
	ELSEIF RESULT <= 25
		IF MONEY:0 < (15500 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (15500 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:808%を購入しました！
			CALL GET_ITEM(808)
		ENDIF
	ELSEIF RESULT <= 26
		IF MONEY:0 < (17500 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (17500 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:813%を購入しました！
			CALL GET_ITEM(813)
		ENDIF
	ELSEIF RESULT <= 27
		IF MONEY:0 < (22000 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (22000 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:910%を購入しました！
			CALL GET_ITEM(910)
		ENDIF
	ENDIF
	
ELSEIF RESULT > 30 && RESULT < 38 && LOCAL:(RESULT)
	
	IF RESULT <= 31
		IF MONEY:0 < (26000 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (26000 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:618%を購入しました！
			CALL GET_ITEM(618)
		ENDIF
	ELSEIF RESULT <= 32
		IF MONEY:0 < (25000 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (25000 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:622%を購入しました！
			CALL GET_ITEM(622)
		ENDIF
	ELSEIF RESULT <= 33
		IF MONEY:0 < (25000 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (25000 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:717%を購入しました！
			CALL GET_ITEM(717)
		ENDIF
	ELSEIF RESULT <= 34
		IF MONEY:0 < (26500 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (26500 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:721%を購入しました！
			CALL GET_ITEM(721)
		ENDIF
	ELSEIF RESULT <= 35
		IF MONEY:0 < (25500 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (25500 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:816%を購入しました！
			CALL GET_ITEM(816)
		ENDIF
	ELSEIF RESULT <= 36
		IF MONEY:0 < (27500 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (27500 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:820%を購入しました！
			CALL GET_ITEM(820)
		ENDIF
	ELSEIF RESULT <= 37
		IF MONEY:0 < (32000 * LOCAL:16 / 100)
			PRINTFORMW ゲイツが足りません…
		ELSE
			;LOCAL:(RESULT) = 0
			MONEY:0 -= (32000 * LOCAL:16 / 100)
			PRINTFORMW %ITEMNAME:918%を購入しました！
			CALL GET_ITEM(918)
		ENDIF
	ENDIF

ELSE
	REUSELASTLINE 入力値が不正です。再入力してください
	GOTO INPUT_LOOP
ENDIF


;沢山買い物したかチェック
IF (LOCAL:50 - MONEY:0) > 10000
;	PRINTFORMW 『』
;	PRINTFORMW 『』
;	PRINTFORMW 『』
;	PRINTFORMW 
;	PRINTFORMW 『BK_MANIACK』
ENDIF

GOTO LUCKY_START







;お店で良く使う共通処理

;割引率計算
@GET_SALE_RATE
CALL GET_MAX_ABL_PT(221, 1)
IF RESULT == 1
	LOCAL:1 = 95
ELSEIF RESULT == 2
	LOCAL:1 = 90
ELSEIF RESULT == 3
	LOCAL:1 = 85
ELSEIF RESULT == 4
	LOCAL:1 = 80
ELSEIF RESULT == 5
	LOCAL:1 = 75
ELSE
	LOCAL:1 = 100
ENDIF

RETURN LOCAL:1

