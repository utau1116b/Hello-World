;-----------EDIT 001 START--------------
;’n‚Ì•¶•ª—£‚ÌˆêŠÂ‚Æ‚µ‚Ä“Æ—§‚³‚¹‚é
;“à•”ˆ—‚ðƒrƒbƒg‰‰ŽZ‚É•ÏX
;«—ˆ“I‚É‹­§’EˆßAŽ©Žå’Eˆß‚ðƒrƒbƒg‚Åˆµ‚¦‚é‚æ‚¤‚É
;---------------------------------------
;„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ
;‹­§’EˆßAŽ©Žå’EˆßŽž‚Ì’Eˆßˆ—
;„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ
;¦‘O’ñ‚Æ‚µ‚ÄŽ©Žå’Eˆß/‹­§’EˆßÅ“K‰»A‹­§’Eˆß¬”Û”»’è‚ªs‚í‚ê‚Ä‚¢‚é•K—v‚ª‚ ‚é
@DATUI_PROCESS

;LOCAL‰Šú‰»
VARSET LOCAL
;’²‹³‘ÎÛA’²‹³ŽÒ’Eˆß•”ˆÊŠm”F
	;‡ˆÓ‚È‚µ‚¾‚Æ‰º’…‚Ü‚Å¨Œûã‘¤‚ÆH‚¢ˆá‚¤‚±‚Æ‚ ‚è
	;•ž’E‚¬‚àƒVƒXƒeƒ€‚É“ü‚ê‚é‚È‚çA‚à‚¤­‚µ‚¿‚á‚ñ‚Æ‚µ‚½Œ`‚É
	;‡ˆÓ‚ ‚è‚¾‚Æ‘S—‡
;		ELSE
FOR LOCAL, 1, 3
			;SETBIT LOCAL:LOCAL, 0
			SETBIT LOCAL:LOCAL, 1
			SETBIT LOCAL:LOCAL, 2
			SETBIT LOCAL:LOCAL, 3
			SETBIT LOCAL:LOCAL, 4
			SETBIT LOCAL:LOCAL, 5
			SETBIT LOCAL:LOCAL, 6
			SETBIT LOCAL:LOCAL, 7
			SETBIT LOCAL:LOCAL, 8
			SETBIT LOCAL:LOCAL, 9
			SETBIT LOCAL:LOCAL, 10
			SETBIT LOCAL:LOCAL, 14
			SETBIT LOCAL:LOCAL, 15
			;SETBIT LOCAL:LOCAL, 11
NEXT
;		ENDIF
;’Eˆß‘ÎÛÅ“K‰»ˆ—(’EˆßŽw’è‰ÓŠ‚É’…ˆß‚ª‘¶Ý‚µ‚È‚¯‚ê‚ÎŽw’è‚ð‰ðœ)
FOR LOCAL, 0, 16
	SIF GETBIT(LOCAL:1, LOCAL) && !TEQUIP:MASTER:(LOCAL + 130) 
		CLEARBIT LOCAL:1, LOCAL
	SIF GETBIT(LOCAL:2, LOCAL) && !TEQUIP:TARGET:(LOCAL + 130) 
		CLEARBIT LOCAL:2, LOCAL
NEXT

;’Eˆß¡‘O‚Å‚Ì’n‚Ì•¶/Œûã•\Ž¦
CALL DATUI_MESSAGE(LOCAL:1, LOCAL:2)

;’Eˆßˆ—(ŽÀÛ‚Ì’Eˆß‚Í‚±‚±‚Ås‚í‚ê‚é)
FOR LOCAL, 0, 16
	SIF GETBIT(LOCAL:1, LOCAL)
		TEQUIP:MASTER:(LOCAL + 130) = 0
	SIF GETBIT(LOCAL:2, LOCAL)
		TEQUIP:TARGET:(LOCAL + 130) = 0
NEXT

;’Eˆß’¼Œã‚Å‚Ì’n‚Ì•¶/Œûã•\Ž¦
CALL DATUI_MESSAGE2(LOCAL:1, LOCAL:2)

RETURN RESULT
;Žå‚Éˆø”‚É‚æ‚Á‚Ä”»’è‚·‚é•ûŽ®‚É•ÏX
;---------------------------------------
;„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ
;‹­§’EˆßAŽ©Žå’EˆßŽž‚Ì’n‚Ì•¶/Œûã•\Ž¦
;„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ„Ÿ
;‹­§’EˆßEŽ©Žå’Eˆß‚ÌƒƒbƒZ[ƒW‚ð•\Ž¦‚µ‚Ü‚·

;’Eˆß¡‘O‚Å‚Ì’n‚Ì•¶/Œûã
@DATUI_MESSAGE(ARG, ARG:1)

;’Eˆß‘O‚É•ž‘•‚ð•Û‘¶‚·‚é(’Eˆß’¼Œã‚Å‚Ì’n‚Ì•¶‚Å—˜—p)
CALLF CLOTHE_SAVE(TARGET)
CALLF CLOTHE_SAVE(MASTER)
RETURN RESULT

;’Eˆß’¼Œã‚Å‚Ì’n‚Ì•¶/Œûã
@DATUI_MESSAGE2(ARG, ARG:1)
PRINTL 
;’²‹³‘ÎÛA’²‹³ŽÒ’EˆßŽžŒ‹‰Ê‚ð•\Ž¦
SIF ARG > 0
	CALL DATUI_ANIME(MASTER)
SIF ARG:1 > 0
	CALL DATUI_ANIME(TARGET)
SIF  ARG > 0 || ARG:1 > 0
	WAIT
	